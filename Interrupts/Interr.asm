
;INTERRUPT VERIFICATION
;05/08/2007
;TESTED AND VERIFIED WITH AT89C52
;PROGRAM RUN ----- SUCCESS.



ORG 0000H
SJMP 0030H

ORG 0013H
LJMP 00FFH

ORG 0030H
	MOV IE,#84H 
	MOV IP,#04H
	MOV TCON,#08H
START:	SJMP START

ORG 00FFH
ISR:
NEXTA:	MOV P2,#01H; coil A +
	ACALL DELAY
	MOV P2,#04H; coil B +
	ACALL DELAY
	MOV P2,#02H; coil A -
	ACALL DELAY
	MOV P2,#08H; coil b -
	ACALL DELAY
	SJMP NEXTA
	RETI	



DELAY:  ;MOV R7,#00H
WAITC:	MOV R6,#18H
WAITB:	MOV R5,#0FFH
WAITA:	DJNZ R5,WAITA
	DJNZ R6,WAITB
	;DJNZ R7,WAITC
	RET
END
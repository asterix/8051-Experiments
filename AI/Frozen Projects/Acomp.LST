A51 MACRO ASSEMBLER  ACOMP                                                                06/21/2009 22:16:49 PAGE     1


MACRO ASSEMBLER A51 V8.01
OBJECT MODULE PLACED IN Acomp.OBJ
ASSEMBLER INVOKED BY: D:\Program Files\Keil\C51\BIN\A51.EXE Acomp.asm NOMOD51 SET(SMALL) DEBUG EP

LOC  OBJ            LINE     SOURCE

                       1     ;ASTER 01/03/2009 1545
                       2     ;TO BE ASSEMBLED USING KEIL MICROVISION V3.60
                       3     ;ARTIFICIAL INTELLIGENCE
                       4     ;MICROCOMPUTER A
                       5     
                       6     ;CODE BASE COMPLETED : 02/03/2009 2120
                       7     
                       8     ;REV 5 LAST UPDATED 09/04/2009 2142
                       9     ;3 SCREEN DISPLAY REVISION >>
                      10     ;REV 6 LAST UPDATED 19/6/2009  1455
                      11     
                      12     ;CODE COMPLETED 21/06/2009 2205 ::: WORKING TESTED ::: PERFECT :: GLITCH00:DURING POWERDOWN
                              SENT '0' NOT RECEIVED
                      13                                                                                                
                                                                                                                                           
                      14     ;------------------------------------------------------------------------------------------
                             -----------------
                      15     ;SET THE ASSEMBLER FOR AT89S52
                      16     $nomod51 
                      17     ;$include (AT89X52.h)
                +1    18     
                +1    19     
                +1    20     
                +1    21     
                +1    22     
                +1    23     
                +1    24     
                +1    25     
                +1    26     
                +1    27     
                +1    28     
                +1    29     
                +1    30     
                +1    31     
  0080          +1    32     sfr P0      = 0x80;
  0081          +1    33     sfr SP      = 0x81;
  0082          +1    34     sfr DPL     = 0x82;
  0083          +1    35     sfr DPH     = 0x83;
  0087          +1    36     sfr PCON    = 0x87;
  0088          +1    37     sfr TCON    = 0x88;
  0089          +1    38     sfr TMOD    = 0x89;
  008A          +1    39     sfr TL0     = 0x8A;
  008B          +1    40     sfr TL1     = 0x8B;
  008C          +1    41     sfr TH0     = 0x8C;
  008D          +1    42     sfr TH1     = 0x8D;
  0090          +1    43     sfr P1      = 0x90;
  0098          +1    44     sfr SCON    = 0x98;
  0099          +1    45     sfr SBUF    = 0x99;
  00A0          +1    46     sfr P2      = 0xA0;
  00A8          +1    47     sfr IE      = 0xA8;
  00B0          +1    48     sfr P3      = 0xB0;
  00B8          +1    49     sfr IP      = 0xB8;
  00C8          +1    50     sfr T2CON   = 0xC8;
  00C9          +1    51     sfr T2MOD   = 0xC9;
  00CA          +1    52     sfr RCAP2L  = 0xCA;
  00CB          +1    53     sfr RCAP2H  = 0xCB;
  00CC          +1    54     sfr TL2     = 0xCC;
  00CD          +1    55     sfr TH2     = 0xCD;
A51 MACRO ASSEMBLER  ACOMP                                                                06/21/2009 22:16:49 PAGE     2

  00D0          +1    56     sfr PSW     = 0xD0;
  00E0          +1    57     sfr ACC     = 0xE0;
  00F0          +1    58     sfr B       = 0xF0;
                +1    59     
                +1    60     
                +1    61     
                +1    62     
  0080          +1    63     sbit P0_0 = 0x80;
  0081          +1    64     sbit P0_1 = 0x81;
  0082          +1    65     sbit P0_2 = 0x82;
  0083          +1    66     sbit P0_3 = 0x83;
  0084          +1    67     sbit P0_4 = 0x84;
  0085          +1    68     sbit P0_5 = 0x85;
  0086          +1    69     sbit P0_6 = 0x86;
  0087          +1    70     sbit P0_7 = 0x87;
                +1    71     
                +1    72     
                +1    73     
                +1    74     
                +1    75     
                +1    76     
                +1    77     
                +1    78     
                +1    79     
                +1    80     
                +1    81     
                +1    82     
                +1    83     
                +1    84     
                +1    85     
                +1    86     
  0088          +1    87     sbit IT0  = 0x88;
  0089          +1    88     sbit IE0  = 0x89;
  008A          +1    89     sbit IT1  = 0x8A;
  008B          +1    90     sbit IE1  = 0x8B;
  008C          +1    91     sbit TR0  = 0x8C;
  008D          +1    92     sbit TF0  = 0x8D;
  008E          +1    93     sbit TR1  = 0x8E;
  008F          +1    94     sbit TF1  = 0x8F;
                +1    95     
                +1    96     
                +1    97     
                +1    98     
                +1    99     
                +1   100     
                +1   101     
                +1   102     
                +1   103     
                +1   104     
                +1   105     
                +1   106     
                +1   107     
                +1   108     
                +1   109     
                +1   110     
                +1   111     
                +1   112     
                +1   113     
  0090          +1   114     sbit P1_0 = 0x90;
  0091          +1   115     sbit P1_1 = 0x91;
  0092          +1   116     sbit P1_2 = 0x92;
  0093          +1   117     sbit P1_3 = 0x93;
  0094          +1   118     sbit P1_4 = 0x94;
  0095          +1   119     sbit P1_5 = 0x95;
  0096          +1   120     sbit P1_6 = 0x96;
  0097          +1   121     sbit P1_7 = 0x97;
A51 MACRO ASSEMBLER  ACOMP                                                                06/21/2009 22:16:49 PAGE     3

                +1   122     
  0090          +1   123     sbit T2   = 0x90;       /* External input to Timer/Counter 2, clock out */
  0091          +1   124     sbit T2EX = 0x91;       /* Timer/Counter 2 capture/reload trigger & dir ctl */
                +1   125     
                +1   126     
                +1   127     
                +1   128     
  0098          +1   129     sbit RI   = 0x98;
  0099          +1   130     sbit TI   = 0x99;
  009A          +1   131     sbit RB8  = 0x9A;
  009B          +1   132     sbit TB8  = 0x9B;
  009C          +1   133     sbit REN  = 0x9C;
  009D          +1   134     sbit SM2  = 0x9D;
  009E          +1   135     sbit SM1  = 0x9E;
  009F          +1   136     sbit SM0  = 0x9F;
                +1   137     
                +1   138     
                +1   139     
                +1   140     
  00A0          +1   141     sbit P2_0 = 0xA0;
  00A1          +1   142     sbit P2_1 = 0xA1;
  00A2          +1   143     sbit P2_2 = 0xA2;
  00A3          +1   144     sbit P2_3 = 0xA3;
  00A4          +1   145     sbit P2_4 = 0xA4;
  00A5          +1   146     sbit P2_5 = 0xA5;
  00A6          +1   147     sbit P2_6 = 0xA6;
  00A7          +1   148     sbit P2_7 = 0xA7;
                +1   149     
                +1   150     
                +1   151     
                +1   152     
  00A8          +1   153     sbit EX0  = 0xA8;       /* 1=Enable External interrupt 0 */
  00A9          +1   154     sbit ET0  = 0xA9;       /* 1=Enable Timer 0 interrupt */
  00AA          +1   155     sbit EX1  = 0xAA;       /* 1=Enable External interrupt 1 */
  00AB          +1   156     sbit ET1  = 0xAB;       /* 1=Enable Timer 1 interrupt */
  00AC          +1   157     sbit ES   = 0xAC;       /* 1=Enable Serial port interrupt */
  00AD          +1   158     sbit ET2  = 0xAD;       /* 1=Enable Timer 2 interrupt */
                +1   159     
  00AF          +1   160     sbit EA   = 0xAF;       /* 0=Disable all interrupts */
                +1   161     
                +1   162     
                +1   163     
                +1   164     
  00B0          +1   165     sbit P3_0 = 0xB0;
  00B1          +1   166     sbit P3_1 = 0xB1;
  00B2          +1   167     sbit P3_2 = 0xB2;
  00B3          +1   168     sbit P3_3 = 0xB3;
  00B4          +1   169     sbit P3_4 = 0xB4;
  00B5          +1   170     sbit P3_5 = 0xB5;
  00B6          +1   171     sbit P3_6 = 0xB6;
  00B7          +1   172     sbit P3_7 = 0xB7;
                +1   173     
  00B0          +1   174     sbit RXD  = 0xB0;       /* Serial data input */
  00B1          +1   175     sbit TXD  = 0xB1;       /* Serial data output */
  00B2          +1   176     sbit INT0 = 0xB2;       /* External interrupt 0 */
  00B3          +1   177     sbit INT1 = 0xB3;       /* External interrupt 1 */
  00B4          +1   178     sbit T0   = 0xB4;       /* Timer 0 external input */
  00B5          +1   179     sbit T1   = 0xB5;       /* Timer 1 external input */
  00B6          +1   180     sbit WR   = 0xB6;       /* External data memory write strobe */
  00B7          +1   181     sbit RD   = 0xB7;       /* External data memory read strobe */
                +1   182     
                +1   183     
                +1   184     
                +1   185     
  00B8          +1   186     sbit PX0  = 0xB8;
  00B9          +1   187     sbit PT0  = 0xB9;
A51 MACRO ASSEMBLER  ACOMP                                                                06/21/2009 22:16:49 PAGE     4

  00BA          +1   188     sbit PX1  = 0xBA;
  00BB          +1   189     sbit PT1  = 0xBB;
  00BC          +1   190     sbit PS   = 0xBC;
  00BD          +1   191     sbit PT2  = 0xBD;
                +1   192     
                +1   193     
                +1   194     
                +1   195     
  00C8          +1   196     sbit CP_RL2= 0xC8;      /* 0=Reload, 1=Capture select */
  00C9          +1   197     sbit C_T2 = 0xC9;       /* 0=Timer, 1=Counter */
  00CA          +1   198     sbit TR2  = 0xCA;       /* 0=Stop timer, 1=Start timer */
  00CB          +1   199     sbit EXEN2= 0xCB;       /* Timer 2 external enable */
  00CC          +1   200     sbit TCLK = 0xCC;       /* 0=Serial clock uses Timer 1 overflow, 1=Timer 2 */
  00CD          +1   201     sbit RCLK = 0xCD;       /* 0=Serial clock uses Timer 1 overflow, 1=Timer 2 */
  00CE          +1   202     sbit EXF2 = 0xCE;       /* Timer 2 external flag */
  00CF          +1   203     sbit TF2  = 0xCF;       /* Timer 2 overflow flag */
                +1   204     
                +1   205     
                +1   206     
                +1   207     
                +1   208     
                +1   209     
                +1   210     
                +1   211     
                +1   212     
                +1   213     
  00D0          +1   214     sbit P    = 0xD0;
  00D1          +1   215     sbit F1   = 0xD1;
  00D2          +1   216     sbit OV   = 0xD2;
  00D3          +1   217     sbit RS0  = 0xD3;
  00D4          +1   218     sbit RS1  = 0xD4;
  00D5          +1   219     sbit F0   = 0xD5;
  00D6          +1   220     sbit AC   = 0xD6;
  00D7          +1   221     sbit CY   = 0xD7;
                +1   222     
                +1   223     
                +1   224     
                +1   225     
                +1   226     
                +1   227     
                +1   228     
                +1   229     
                +1   230     
                +1   231     
                +1   232     
                +1   233     
                +1   234     
                +1   235     
                +1   236     
                +1   237     
                +1   238     
                     239     
                     240     
                     241     ;DEFINITIONS
                     242     
                     243     ;SBIT WR=P3^6                                           ;ALREADY DEFINED IN THE HEADER, SO 
                             MAKE FREE USE OF IT
                     244     ;SBIT RD=P3^7
  00B2               245     SBIT INTR=P3^2
  0087               246     SBIT RS=P0^7
  0086               247     SBIT RW=P0^6
  0085               248     SBIT EN=P0^5
  0084               249     SBIT SWA=P0^4
  0083               250     SBIT SWB=P0^3
  0082               251     SBIT SWC=P0^2
  0081               252     SBIT SWD=P0^1
A51 MACRO ASSEMBLER  ACOMP                                                                06/21/2009 22:16:49 PAGE     5

                     253     ;------------------------------------------------------------------------------------------
                             -----------------
                     254     
0000                 255     ORG 0000H
                     256     
0000 802E            257     RESET:          SJMP 0030H 
                     258     
0030                 259     ORG 0030H
                     260     
0030 00              261     START:          NOP
0031 758117          262                             MOV SP,#17H                                     ;RELOCATE STACK OVE
                             R 17H
                     263                                                                      
0034 7438            264     INIT:           MOV A,#38H                                      ;INITIALIZATION OF HD44780
0036 121428          265                             LCALL COMMAND
0039 740C            266                             MOV A,#0CH
003B 121428          267                             LCALL COMMAND
003E 7438            268                             MOV A,#38H                                      ;REINITIALIZATION O
                             F HD44780 FOR CAPACITIVE CORRECTION
0040 121428          269                             LCALL COMMAND
0043 740C            270                             MOV A,#0CH
0045 121428          271                             LCALL COMMAND
0048 7406            272                             MOV A,#06H
004A 121428          273                             LCALL COMMAND
004D 7401            274                             MOV A,#01H      
004F 121428          275                             LCALL COMMAND
                     276     
0052 901F00          277                             MOV DPTR,#MSG1                          ;DISPLAY INITIAL DATA
0055 121466          278                             LCALL WRITEALL
                     279     
0058 E4              280                             CLR A                                           ;PORTS'  INIT
0059 74FF            281                             MOV A,#0FFH
005B F5B0            282                             MOV P3,A
005D D280            283                             SETB P0.0
005F D281            284                             SETB P0.1
0061 D282            285                             SETB P0.2
0063 D283            286                             SETB P0.3
0065 D284            287                             SETB P0.4
0067 F590            288                             MOV P1,A
                     289     
0069 7820            290                             MOV R0,#20H                                     ;CLEAR RAM FROM 20H
                              TO FFH
006B E4              291                             CLR A
006C F6              292     CLE:            MOV @R0,A
006D 08              293                             INC R0
006E B8FFFB          294                             CJNE R0,#0FFH,CLE
                     295     
                     296                             
0071 75C830          297                             MOV T2CON,#30H                          ;SERIAL BAUD GENERATOR INIT
                              9600BPS TWI
0074 75CBFF          298                             MOV RCAP2H,#0FFH
0077 75CADC          299                             MOV RCAP2L,#0DCH
007A 53877F          300                             ANL PCON,#7FH
007D 759858          301                             MOV SCON,#58H
                     302     
                     303                             
0080 758801          304                             MOV TCON,#01H
0083 758901          305                             MOV TMOD,#01H
0086 75A893          306                             MOV IE,#93H                                     ;INTERRUPTS ENABLE 
                             : INT0, SERIAL, TIMER0
0089 75B811          307                             MOV IP,#11H
                     308                             
008C D2CA            309                             SETB TR2                                        ;START BAUD TIMER
                     310     
008E 901F0D          311                             MOV DPTR,#MSG2
0091 7C60            312                             MOV R4,#96                                      ;LOAD DISPLAY RAM W
A51 MACRO ASSEMBLER  ACOMP                                                                06/21/2009 22:16:49 PAGE     6

                             ITH FORMAT
0093 7880            313                             MOV R0,#80H
0095 E4              314     DISPD:          CLR A
0096 93              315                             MOVC A,@A+DPTR
0097 F6              316                             MOV @R0,A
0098 08              317                             INC R0
0099 A3              318                             INC DPTR
009A DCF9            319                             DJNZ R4,DISPD
009C 00              320     EXITDD:         NOP
                     321     
                     322     
009D D2D3            323                             SETB PSW.3
009F 785F            324                             MOV R0,#5FH
00A1 C2D3            325                             CLR PSW.3
                     326                             
00A3 742E            327                             MOV A,#2EH
00A5 121437          328                             LCALL DISPLAY                           ;DOT 1                  
00A8 1214D7          329                             LCALL DELAYR                            ;ALLOW ADC0848 TO RECOVER F
                             ROM RESET
00AB 121437          330                             LCALL DISPLAY                           ;DOT 2
00AE 1214CA          331                             LCALL DELAYS
00B1 121437          332                             LCALL DISPLAY                           ;DOT 3
                     333                             
                     334     
00B4 7408            335     ADCINIT:        MOV A,#08H                                      ;START ADC OPERATION
00B6 F566            336                             MOV 66H,A
00B8 12148F          337                             LCALL ADWRITE
00BB 1214CA          338                             LCALL DELAYS                            ;DELAY FOR ADC0848 SETTLING
                     339                             
00BE 1214CA          340                             LCALL DELAYS
                     341                     
00C1 758C00          342                             MOV TH0,#00H                            ;LOAD COUNT 65536*42/1 = 3S
                             ECONDS
00C4 758A00          343                             MOV TL0,#00H
00C7 7C23            344                             MOV R4,#35                                      ;R4 USED EXCLUSIVEL
                             Y BY TIMER0 ISR
00C9 7980            345                             MOV R1,#80H                                     
00CB 8950            346                             MOV 50H,R1                                      ;50H HOLDS CURRENT 
                             POINTER
00CD 121472          347                             LCALL LCDWRITE
00D0 D28C            348                             SETB TR0                                        ;START TIMER0
                     349     
                     350     ;------------------------------------------------------------------------------------------
                             --------
                     351     ;******************************************************************************************
                             ********
                     352     ;PROGRAM MAIN
                     353     ;MAIN BEGINS HERE
                     354     
00D2 00              355     MAIN:           NOP
                     356                                                              
00D3 E55F            357     ASCONV:         MOV A,5FH
00D5 1214F2          358                             LCALL SCALE12
00D8 121501          359                             LCALL XTOD16
00DB 12157D          360                             LCALL LOAD1
                     361                             
00DE E560            362                             MOV A,60H
00E0 1214F7          363                             LCALL SCALE5
00E3 121501          364                             LCALL XTOD16
00E6 12158C          365                             LCALL LOAD2
                     366     
00E9 E561            367                             MOV A,61H
00EB 1214F7          368                             LCALL SCALE5
00EE 121501          369                             LCALL XTOD16
00F1 121598          370                             LCALL LOAD3
                     371     
A51 MACRO ASSEMBLER  ACOMP                                                                06/21/2009 22:16:49 PAGE     7

00F4 E562            372                             MOV A,62H
00F6 1214F2          373                             LCALL SCALE12
00F9 121501          374                             LCALL XTOD16
00FC 1215A4          375                             LCALL LOAD4
                     376     
00FF E563            377                             MOV A,63H
0101 1214FC          378                             LCALL SCALE7
0104 121501          379                             LCALL XTOD16
0107 1215B3          380                             LCALL LOAD5       
                     381     
                     382     
010A 208403          383     CHSWA:          JB SWA,CHSWB                            ;POLL SWITCHES
010D 1214B0          384                             LCALL MANSWA
0110 208303          385     CHSWB:          JB SWB,CHSWC
0113 1214BA          386                             LCALL MANSWB
0116 208203          387     CHSWC:          JB SWC,CHSWD
0119 1214BE          388                             LCALL MANSWC
011C 208103          389     CHSWD:          JB SWD,MOVEON
011F 1214C2          390                             LCALL MANSWD
                     391     
0122 00              392     MOVEON:         NOP
                     393                             
                     394                             
0123 E566            395                             MOV A,66H                                       ;ADC START FOR THE 
                             CURRENT PASS
0125 04              396                             INC A                                           ;66H CONTAINS CURRE
                             NT CHANNEL ENABLING CODE
0126 B40D02          397                             CJNE A,#0DH,PROCM                       ;08H,09H,0AH,0BH,0CH FOR FI
                             RST FIVE CHANNELS
0129 7408            398                             MOV A,#08H
012B 12148F          399     PROCM:          LCALL ADWRITE
012E F566            400                             MOV 66H,A
                     401     
                     402     
0130 307A0F          403     STATREQ:        JNB 7AH,NOREQ
0133 C27A            404                             CLR 7AH
0135 D27B            405                             SETB 7BH                                        ;USED BY SERIAL ISR
0137 D2D4            406                             SETB PSW.4                                      ;SWITCH TO BANK 3
0139 795F            407                             MOV R1,#95                                      ;SEND 96 CHARACTER 
                             STATUS USING TI INTERRUPT :: CHECK SERIAL ISR FOR SENDING
013B 7880            408                             MOV R0,#80H
013D 8699            409                             MOV SBUF,@R0
013F 08              410                             INC R0
0140 C2D4            411                             CLR     PSW.4
0142 00              412     NOREQ:          NOP
                     413     
                     414     
                     415     
0143 207C0C          416     BROWNOUT:       JB 7CH,PSAFEB   
0146 E55F            417                             MOV A,5FH                                       ;BATTERY A TESTED F
                             OR > 11.53V
0148 B4C400          418                             CJNE A,#196,CHPWR0
014B 5005            419     CHPWR0:         JNC PSAFEB
014D D27C            420                             SETB 7CH                                        ;BIT 7CH INDICATES 
                             SERIAL REPORTING DONE
014F 759941          421                             MOV SBUF,#'A'                           ;SEND OUT 'A' TO INDICATE P
                             OWER PROBLEM
0152 207D12          422     PSAFEB:         JB 7DH,PSAFE
0155 E562            423                             MOV A,62H                                       ;BATTERY B TESTED F
                             OR > 11.53V
0157 B4C400          424                             CJNE A,#196,CHPWR1
015A 500B            425     CHPWR1:         JNC PSAFE
015C 307C03          426                             JNB 7CH,NOPROB
015F 1214E9          427                             LCALL SERWAIT
0162 D27D            428     NOPROB:         SETB 7DH                                        ;BIT 7DH INDICATES SERIAL R
                             EPORTING DONE
A51 MACRO ASSEMBLER  ACOMP                                                                06/21/2009 22:16:49 PAGE     8

0164 759942          429                             MOV SBUF,#'B'                           ;SEND OUT 'B' TO INDICATE P
                             OWER PROBLEM
0167 00              430     PSAFE:          NOP
                     431     
                     432     
0168 307C02          433     BROUT11:        JNB 7CH,SAFE1                           ;IF ANY BATTERY DROPS BELOW 11.00V 
                             THEN FLOOD SERIAL CHANNEL WITH 'B'
016B 8003            434                             SJMP B1100
016D 307D13          435     SAFE1:          JNB 7DH,SAFEALL
0170 E55F            436     B1100:          MOV A,5FH
0172 B4BB00          437                             CJNE A,#187,CPWR0
0175 5002            438     CPWR0:          JNC CHKB
0177 8007            439                             SJMP TXDBB
0179 E562            440     CHKB:           MOV A,62H
017B B4BB00          441                             CJNE A,#187,CPWR1
017E 5003            442     CPWR1:          JNC SAFEALL
0180 759942          443     TXDBB:          MOV SBUF,#'B'
0183 00              444     SAFEALL:        NOP                     
                     445     
0184 207903          446                             JB 79H,POWERDWN
                     447     
0187 0200D2          448     MAIN_END:       LJMP MAIN                                       ;LOOP THE MAIN
                     449     
                     450     ;PROGRAM MAIN ENDS HERE
                     451     ;******************************************************************************************
                     452     ;------------------------------------------------------------------------------------------
                     453     ;POWER DOWN IN CASE OF BATTERY BROWN OUT
018A 00              454     POWERDWN:       NOP
018B C2AF            455                             CLR IE.7                        ;DISABLE ALL INTERRUPTS
018D 121457          456                             LCALL CLEARH
0190 901F6E          457                             MOV DPTR,#MSG3
0193 121466          458                             LCALL WRITEALL
0196 758702          459                             MOV PCON,#02H           ;PUT MC INTO POWERDOWN MODE
0199 00              460                             NOP
019A 80FE            461     HALTDA:         SJMP HALTDA
                     462     
                     463     
                     464     ;INTERRUPT SERVICE ROUTINES
                     465     
                     466     ;SERIAL INTERRUPT : SERIAL
                     467     ;SERIAL RECEPTION OR TRANSMISSION COMPLETE
0023                 468     ORG 0023H
0023 021000          469                             LJMP 1000H
1000                 470     ORG 1000H
                     471     
1000 C2CA            472     SERCON:         CLR TR2
1002 C0E0            473                             PUSH ACC
1004 30982C          474                             JNB RI,TXI
1007 C298            475                             CLR RI
1009 E599            476                             MOV A,SBUF
100B 207F0A          477                             JB 7FH,SKIPC
100E B43418          478                             CJNE A,#34H,SKIPC3                      ;BIT 7FH SET IMPLIES CONNEC
                             TION ESTABLISHED
1011 759934          479                             MOV SBUF,#34H                           ;C-ACK  CONNECT ADDRESS=34H
1014 D27F            480                             SETB 7FH
1016 802B            481                             SJMP EXITC
1018 B43507          482     SKIPC:          CJNE A,#35H,SKIPC2                      ;SEND DISCONNECT AND DROP CONNECTIO
                             N IF DISCONNECT IS RECEIVED
101B 759935          483                             MOV SBUF,#35H                           ;D-ACK  DISCONNECT ADDRESS=
                             35H
101E C27F            484                             CLR 7FH
1020 8021            485                             SJMP EXITC
1022 B45304          486     SKIPC2:         CJNE A,#'S',SKIPC3
1025 D27A            487                             SETB 7AH                                        ;7AH INDICATES MAST
                             ER REQUESTING FOR STATUS
1027 801A            488                             SJMP EXITC
A51 MACRO ASSEMBLER  ACOMP                                                                06/21/2009 22:16:49 PAGE     9

1029 B45A17          489     SKIPC3:         CJNE A,#'Z',EXITC
102C 759930          490                             MOV SBUF,#30H
102F D279            491                             SETB 79H                                        ;SET 79H TO INDICAT
                             E POWER DOWN IN CASE OF BROWN OUT
1031 8010            492                             SJMP EXITC                                                         
                                  
1033 C299            493     TXI:            CLR TI
1035 307B0B          494                             JNB 7BH,EXITC                           ;SEND STATUS REQUEST FROM T
                             HE MASTER
1038 D2D4            495                             SETB PSW.4
103A 8699            496                             MOV SBUF,@R0
103C 08              497                             INC R0
103D D902            498                             DJNZ R1,NIOMI
103F C27B            499                             CLR 7BH                                         ;REQUEST COMPLETED
1041 C2D4            500     NIOMI:          CLR PSW.4
1043 D0E0            501     EXITC:          POP ACC
1045 D2CA            502                             SETB TR2
1047 00              503                             NOP
1048 32              504                             RETI
                     505     ;------------------------------------------------------------------------------------------
                             ----
                     506     ;EXTERNAL INTERRUPT 0: INT0
                     507     ;ADC CONVERSION COMPLETE INTERRUPT
0003                 508     ORG 0003H
0003 021200          509                             LJMP 1200H
1200                 510     ORG 1200H
                     511     
1200 00              512     ADCSERVE:       NOP
1201 00              513                             NOP
1202 C0E0            514                             PUSH ACC
1204 C0D0            515                             PUSH PSW
1206 D2D3            516                             SETB PSW.3
1208 12149E          517                             LCALL ADREAD
120B F6              518                             MOV @R0,A
120C B86304          519                             CJNE R0,#63H,PROC
120F 785F            520                             MOV R0,#5FH
1211 8001            521                             SJMP EXITR
1213 08              522     PROC:           INC R0
1214 C2D3            523     EXITR:          CLR PSW.3
1216 D0D0            524                             POP PSW
1218 D0E0            525                             POP ACC
121A 32              526                             RETI
                     527     
                     528     
                     529     ;TIMER 0 INTERRUPT
                     530     ;TIMER 0 USED TO GENERATE 2-3SECONDS SCREEN DISPLAY DELAY
000B                 531     ORG 000BH
000B 021400          532                             LJMP 1400H
1400                 533     ORG 1400H
1400 C28C            534     TIME3:          CLR TR0
1402 C28D            535                             CLR TF0
1404 758C00          536                             MOV TH0,#00H
1407 758A00          537                             MOV TL0,#00H
140A DC19            538                             DJNZ R4,MORE
140C C0E0            539                             PUSH ACC
140E C0D0            540                             PUSH PSW
1410 7C23            541                             MOV R4,#35
1412 E550            542                             MOV A,50H
1414 2420            543                             ADD A,#32
1416 B4E002          544                             CJNE A,#0E0H,RESC
1419 7480            545                             MOV A,#80H
141B F9              546     RESC:           MOV R1,A
141C F550            547                             MOV 50H,A
141E 121472          548                             LCALL LCDWRITE
1421 D0D0            549                             POP PSW
1423 D0E0            550                             POP ACC
A51 MACRO ASSEMBLER  ACOMP                                                                06/21/2009 22:16:49 PAGE    10

1425 D28C            551     MORE:           SETB TR0
1427 32              552                             RETI
                     553     
                     554     ;------------------------------------------------------------------------------------------
                     555     ;------------------------------------------------------------------------------------------
                     556     ;LCD ROUTINES
                     557     
1428 121446          558     COMMAND:        LCALL READY
142B C286            559                             CLR RW
142D C287            560                             CLR RS
142F F5A0            561                             MOV P2,A
1431 D285            562                             SETB EN
1433 00              563                             NOP 
1434 C285            564                             CLR EN
1436 22              565                             RET
                     566     
1437 121446          567     DISPLAY:        LCALL READY
143A C286            568                             CLR RW
143C D287            569                             SETB RS
143E F5A0            570                             MOV P2,A
1440 D285            571                             SETB EN
1442 00              572                             NOP
1443 C285            573                             CLR EN
1445 22              574                             RET
                     575     
1446 D2A7            576     READY:          SETB P2.7
1448 C287            577                             CLR RS
144A D286            578                             SETB RW
144C C285            579     BUSY:           CLR EN
144E D285            580                             SETB EN
1450 20A7F9          581                             JB P2.7,BUSY
1453 00              582                             NOP
1454 C285            583                             CLR EN
1456 22              584                             RET
                     585     
1457 7401            586     CLEARH:         MOV A,#01H                                              ;CLEAR DISPLAY AND 
                             HOME CURSOR
1459 121428          587                             LCALL COMMAND
145C 22              588                             RET
                     589     
145D 7414            590     RSHIFTC:        MOV A,#14H                                              ;SHIFT CURSOR RIGHT
                              BY COUNT IN B
145F 121428          591     SHRIGHT:        LCALL COMMAND
1462 D5F0FA          592                             DJNZ B,SHRIGHT
1465 22              593                             RET
                     594                             
1466 E4              595     WRITEALL:       CLR A                                                   ;WRITE ALL POINTED 
                             BY DPTR
1467 93              596                             MOVC A,@A+DPTR
1468 6006            597                             JZ EXITWR
146A A3              598                             INC DPTR
146B 121437          599                             LCALL DISPLAY
146E 80F6            600                             SJMP WRITEALL
1470 00              601     EXITWR:         NOP
1471 22              602                             RET
                     603     
1472 7402            604     LCDWRITE:       MOV A,#02H                                              ;RAM POINTER: R1
1474 121428          605                             LCALL COMMAND
1477 7A10            606                             MOV R2,#10H                                             ;UPDATE LCD
                              UPPER LINE
1479 E7              607     DISPU:          MOV A,@R1
147A 121437          608                             LCALL DISPLAY
147D 09              609                             INC R1
147E DAF9            610                             DJNZ R2,DISPU
1480 74C0            611     LCDWRITEL:      MOV A,#0C0H                                             ;UPDATE LCD LOWER L
                             INE
A51 MACRO ASSEMBLER  ACOMP                                                                06/21/2009 22:16:49 PAGE    11

1482 121428          612                             LCALL COMMAND                           
1485 7A10            613                             MOV R2,#10H
1487 E7              614     DISPL:          MOV A,@R1
1488 121437          615                             LCALL DISPLAY
148B 09              616                             INC R1
148C DAF9            617                             DJNZ R2,DISPL
148E 22              618                             RET
                     619     
                     620     ;------------------------------------------------------------------------------------------
                             -
                     621     ;ADC0848 SUBROUTINES
                     622     
148F F590            623     ADWRITE:        MOV P1,A
1491 D2B7            624                             SETB RD
1493 D2B6            625                             SETB WR                                                 ; SET WR BA
                             R
1495 00              626                             NOP
1496 C2B6            627                             CLR WR                                                  ; CLEAR WR 
                             BAR
1498 00              628                             NOP
1499 00              629                             NOP
149A 00              630                             NOP
149B D2B6            631                             SETB WR                                                 ; RISING ED
                             GE ON WR BAR
149D 22              632                             RET
                     633     
149E D2B6            634     ADREAD:         SETB WR
14A0 C2B7            635                             CLR RD                                                  ; RD BAR LO
                             W
14A2 00              636                             NOP
14A3 00              637                             NOP
14A4 7590FF          638                             MOV P1,#0FFH                                    ;CONFIGURE PORT FOR
                              INPUT::: DONT FORGET THIS                                                   
14A7 E590            639                             MOV A,P1
14A9 00              640                             NOP
14AA 22              641                             RET     
                     642     ;------------------------------------------------------------------------------------------
                             -
                     643     ;SWITCH MANAGEMENT ROUTINES
                     644     
                     645     ;DELAY DEBOUNCE
14AB 7F50            646     DELAYSW:        MOV R7,#50H
14AD DFFE            647                             DJNZ R7,$
14AF 22              648                             RET
                     649     
                     650     ;SWITCH A MANAGER        :: FUNCTION: MICROCOMPUTER 'A' RESET
14B0 1214C6          651     MANSWA:         LCALL DEBOUNCE
14B3 208403          652                             JB SWA,FLA
14B6 020000          653                             LJMP RESET
14B9 22              654     FLA:            RET
                     655     
                     656     ;SWITCH B MANAGER               :: FUNCTION:
14BA 1214C6          657     MANSWB:         LCALL DEBOUNCE
14BD 22              658     FLB:            RET
                     659     
                     660     ;SWITCH C MANAGER               :: FUNCTION:
14BE 1214C6          661     MANSWC:         LCALL DEBOUNCE
14C1 22              662     FLC:            RET
                     663     
                     664     ;SWITCH D MANAGER               :: FUNCTION
14C2 1214C6          665     MANSWD:         LCALL DEBOUNCE
14C5 22              666     FLD:            RET
                     667     
                     668     ;SWITCH DEBOUNCER
14C6 1214AB          669     DEBOUNCE:       LCALL DELAYSW
14C9 22              670                             RET                                             
A51 MACRO ASSEMBLER  ACOMP                                                                06/21/2009 22:16:49 PAGE    12

                     671     
                     672                                              
                     673     ;------------------------------------------------------------------------------------------
                             -
                     674     ;OTHER SUBROUTINES
                     675     ;DELAY INIT
14CA 7F06            676     DELAYS:         MOV R7,#06H
14CC 7EFF            677                             MOV R6,#0FFH
14CE 7DFF            678                             MOV R5,#0FFH
14D0 DDFE            679                             DJNZ R5,$
14D2 DEFC            680                             DJNZ R6,$-2
14D4 DFFA            681                             DJNZ R7,$-4
14D6 22              682                             RET
                     683     
                     684     ;DELAY RESET RECOVERY
14D7 7F10            685     DELAYR:         MOV R7,#10H
14D9 7EFF            686                             MOV R6,#0FFH
14DB 7DFF            687                             MOV R5,#0FFH
14DD DDFE            688                             DJNZ R5,$
14DF DEFC            689                             DJNZ R6,$-2
14E1 DFFA            690                             DJNZ R7,$-4
14E3 22              691                             RET
                     692     
                     693     ;DELAY DISPLAY
14E4 7FFF            694     DELAYD:         MOV R7,#0FFH
14E6 DFFE            695                             DJNZ R7,$
14E8 22              696                             RET
                     697     
                     698     ;SERIAL WAIT
14E9 7F03            699     SERWAIT:        MOV R7,#03H
14EB 7EFF            700                             MOV R6,#0FFH      
14ED DEFE            701                             DJNZ R6,$
14EF DFFC            702                             DJNZ R7,$-2
14F1 22              703                             RET
                     704     
                     705     ;------------------------------------------------------------------------------------------
                             --
                     706     ;MULTIPLIES ADC INPUT WITH VOLTAGE PER STEP
14F2 75F03B          707     SCALE12:        MOV B,#59
14F5 A4              708                             MUL AB
14F6 22              709                             RET
                     710     
14F7 75F0C4          711     SCALE5:         MOV B,#196
14FA A4              712                             MUL AB
14FB 22              713                             RET
                     714     
14FC 75F022          715     SCALE7:         MOV B,#34
14FF A4              716                             MUL AB
1500 22              717                             RET
                     718     ;------------------------------------------------------------------------------------------
                             --                   
                     719     ;HEX TO ASCII CONVERTER
                     720     ;16 BIT HEX TO ASCII CONVERTER 
                     721     ;INPUT- [B-A]   OUTPUT- [6BH,6AH,69H,68H,67H]
1501 756730          722     XTOD16:         MOV 67H,#30H
1504 756830          723                             MOV 68H,#30H
1507 756930          724                             MOV 69H,#30H
150A 756A30          725                             MOV 6AH,#30H
150D 756B30          726                             MOV 6BH,#30H
1510 C3              727                             CLR C
1511 F56C            728                             MOV 6CH,A
1513 85F06D          729                             MOV 6DH,B
1516 E56C            730     R10K:           MOV A,6CH
1518 9410            731                             SUBB A,#10H
151A F56C            732                             MOV 6CH,A
151C E56D            733                             MOV A,6DH
A51 MACRO ASSEMBLER  ACOMP                                                                06/21/2009 22:16:49 PAGE    13

151E 9427            734                             SUBB A,#27H
1520 F56D            735                             MOV 6DH,A
1522 056B            736                             INC 6BH
1524 50F0            737                             JNC R10K
1526 156B            738                             DEC 6BH
1528 C3              739                             CLR C
1529 E56C            740                             MOV A,6CH
152B 2410            741                             ADD A,#10H
152D F56C            742                             MOV 6CH,A
152F E56D            743                             MOV A,6DH
1531 3427            744                             ADDC A,#27H
1533 F56D            745                             MOV 6DH,A
1535 C3              746                             CLR C
1536 E56C            747     R1K:            MOV A,6CH
1538 94E8            748                             SUBB A,#0E8H
153A F56C            749                             MOV 6CH,A
153C E56D            750                             MOV A,6DH
153E 9403            751                             SUBB A,#03H
1540 F56D            752                             MOV 6DH,A
1542 056A            753                             INC 6AH
1544 50F0            754                             JNC R1K
1546 156A            755                             DEC 6AH
1548 C3              756                             CLR C
1549 E56C            757                             MOV A,6CH
154B 24E8            758                             ADD A,#0E8H
154D F56C            759                             MOV 6CH,A
154F E56D            760                             MOV A,6DH
1551 3403            761                             ADDC A,#03H
1553 F56D            762                             MOV 6DH,A
1555 C3              763                             CLR C
1556 E56C            764     HUND:           MOV A,6CH
1558 9464            765                             SUBB A,#64H
155A F56C            766                             MOV 6CH,A
155C E56D            767                             MOV A,6DH
155E 9400            768                             SUBB A,#00H
1560 F56D            769                             MOV 6DH,A
1562 0569            770                             INC 69H
1564 50F0            771                             JNC HUND
1566 1569            772                             DEC 69H
1568 C3              773                             CLR C
1569 E56C            774                             MOV A,6CH
156B 2464            775                             ADD A,#64H
156D F56C            776                             MOV 6CH,A
156F C3              777                             CLR C
1570 E56C            778     TENS:           MOV A,6CH
1572 75F00A          779                             MOV B,#10
1575 84              780                             DIV AB
1576 4268            781                             ORL 68H,A
1578 E5F0            782                             MOV A,B
157A 4267            783     ONES:           ORL 67H,A
157C 22              784                             RET
                     785     
                     786     ;------------------------------------------------------------------------------------------
                             --
                     787     ;LOAD THE TEMPORARY ASCII TO DISPLAY RAM
157D 788A            788     LOAD1:          MOV R0,#8AH
157F A66B            789                             MOV @R0,6BH
1581 08              790                             INC R0
1582 A66A            791                             MOV @R0,6AH
1584 08              792                             INC R0
1585 08              793                             INC R0
1586 A669            794                             MOV @R0,69H
1588 08              795                             INC R0
1589 A668            796                             MOV @R0,68H
158B 22              797                             RET
                     798     
A51 MACRO ASSEMBLER  ACOMP                                                                06/21/2009 22:16:49 PAGE    14

158C 78B0            799     LOAD2:          MOV R0,#0B0H
158E A66B            800                             MOV @R0,6BH
1590 08              801                             INC R0 
1591 08              802                             INC R0
1592 A66A            803                             MOV @R0,6AH
1594 08              804                             INC R0
1595 A669            805                             MOV @R0,69H
1597 22              806                             RET
                     807     
1598 78B5            808     LOAD3:          MOV R0,#0B5H
159A A66B            809                             MOV @R0,6BH
159C 08              810                             INC R0 
159D 08              811                             INC R0
159E A66A            812                             MOV @R0,6AH
15A0 08              813                             INC R0
15A1 A669            814                             MOV @R0,69H
15A3 22              815                             RET
                     816     
15A4 789A            817     LOAD4:          MOV R0,#9AH
15A6 A66B            818                             MOV @R0,6BH
15A8 08              819                             INC R0
15A9 A66A            820                             MOV @R0,6AH
15AB 08              821                             INC R0
15AC 08              822                             INC R0
15AD A669            823                             MOV @R0,69H
15AF 08              824                             INC R0
15B0 A668            825                             MOV @R0,68H
15B2 22              826                             RET
                     827     
15B3 78BA            828     LOAD5:          MOV R0,#0BAH
15B5 A66A            829                             MOV @R0,6AH
15B7 08              830                             INC R0 
15B8 08              831                             INC R0
15B9 A669            832                             MOV @R0,69H
15BB 08              833                             INC R0
15BC A668            834                             MOV @R0,68H
15BE 22              835                             RET
                     836     
                     837     
                     838     
                     839     ;------------------------------------------------------------------------------------------
                             -
                     840     ;DISPLAY DATA
                     841     
1F00                 842     ORG 1F00H
                     843     
1F00 494E4954        844     MSG1:   DB 'INITIALIZING',00H
1F04 49414C49                
1F08 5A494E47                
1F0C 00                      
1F0D 42415454        845     MSG2:   DB 'BATTERY A .....VBATTERY B .....V5AR  5BR  7AR   .... .... ....V A-RES 0  B-OVR 
                             0C-UDF 0  D-UDF 0',00H
1F11 45525920                
1F15 41202E2E                
1F19 2E2E2E56                
1F1D 42415454                
1F21 45525920                
1F25 42202E2E                
1F29 2E2E2E56                
1F2D 35415220                
1F31 20354252                
1F35 20203741                
1F39 52202020                
1F3D 2E2E2E2E                
1F41 202E2E2E                
1F45 2E202E2E                
A51 MACRO ASSEMBLER  ACOMP                                                                06/21/2009 22:16:49 PAGE    15

1F49 2E2E5620                
1F4D 412D5245                
1F51 53203020                
1F55 20422D4F                
1F59 56522030                
1F5D 432D5544                
1F61 46203020                
1F65 20442D55                
1F69 44462030                
1F6D 00                      
1F6E 504F5745        846     MSG3:   DB 'POWERED DOWN',00H
1F72 52454420                
1F76 444F574E                
1F7A 00                      
                     847     ;------------------------------------------------------------------------------------------
                             - 
                     848     ;------------------------------------------------------------------------------------------
                             -
                     849     END
A51 MACRO ASSEMBLER  ACOMP                                                                06/21/2009 22:16:49 PAGE    16

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

AC . . . . . . . .  B ADDR   00D0H.6 A   
ACC. . . . . . . .  D ADDR   00E0H   A   
ADCINIT. . . . . .  C ADDR   00B4H   A   
ADCSERVE . . . . .  C ADDR   1200H   A   
ADREAD . . . . . .  C ADDR   149EH   A   
ADWRITE. . . . . .  C ADDR   148FH   A   
ASCONV . . . . . .  C ADDR   00D3H   A   
B. . . . . . . . .  D ADDR   00F0H   A   
B1100. . . . . . .  C ADDR   0170H   A   
BROUT11. . . . . .  C ADDR   0168H   A   
BROWNOUT . . . . .  C ADDR   0143H   A   
BUSY . . . . . . .  C ADDR   144CH   A   
CHKB . . . . . . .  C ADDR   0179H   A   
CHPWR0 . . . . . .  C ADDR   014BH   A   
CHPWR1 . . . . . .  C ADDR   015AH   A   
CHSWA. . . . . . .  C ADDR   010AH   A   
CHSWB. . . . . . .  C ADDR   0110H   A   
CHSWC. . . . . . .  C ADDR   0116H   A   
CHSWD. . . . . . .  C ADDR   011CH   A   
CLE. . . . . . . .  C ADDR   006CH   A   
CLEARH . . . . . .  C ADDR   1457H   A   
COMMAND. . . . . .  C ADDR   1428H   A   
CPWR0. . . . . . .  C ADDR   0175H   A   
CPWR1. . . . . . .  C ADDR   017EH   A   
CP_RL2 . . . . . .  B ADDR   00C8H.0 A   
CY . . . . . . . .  B ADDR   00D0H.7 A   
C_T2 . . . . . . .  B ADDR   00C8H.1 A   
DEBOUNCE . . . . .  C ADDR   14C6H   A   
DELAYD . . . . . .  C ADDR   14E4H   A   
DELAYR . . . . . .  C ADDR   14D7H   A   
DELAYS . . . . . .  C ADDR   14CAH   A   
DELAYSW. . . . . .  C ADDR   14ABH   A   
DISPD. . . . . . .  C ADDR   0095H   A   
DISPL. . . . . . .  C ADDR   1487H   A   
DISPLAY. . . . . .  C ADDR   1437H   A   
DISPU. . . . . . .  C ADDR   1479H   A   
DPH. . . . . . . .  D ADDR   0083H   A   
DPL. . . . . . . .  D ADDR   0082H   A   
EA . . . . . . . .  B ADDR   00A8H.7 A   
EN . . . . . . . .  B ADDR   0080H.5 A   
ES . . . . . . . .  B ADDR   00A8H.4 A   
ET0. . . . . . . .  B ADDR   00A8H.1 A   
ET1. . . . . . . .  B ADDR   00A8H.3 A   
ET2. . . . . . . .  B ADDR   00A8H.5 A   
EX0. . . . . . . .  B ADDR   00A8H.0 A   
EX1. . . . . . . .  B ADDR   00A8H.2 A   
EXEN2. . . . . . .  B ADDR   00C8H.3 A   
EXF2 . . . . . . .  B ADDR   00C8H.6 A   
EXITC. . . . . . .  C ADDR   1043H   A   
EXITDD . . . . . .  C ADDR   009CH   A   
EXITR. . . . . . .  C ADDR   1214H   A   
EXITWR . . . . . .  C ADDR   1470H   A   
F0 . . . . . . . .  B ADDR   00D0H.5 A   
F1 . . . . . . . .  B ADDR   00D0H.1 A   
FLA. . . . . . . .  C ADDR   14B9H   A   
FLB. . . . . . . .  C ADDR   14BDH   A   
FLC. . . . . . . .  C ADDR   14C1H   A   
FLD. . . . . . . .  C ADDR   14C5H   A   
HALTDA . . . . . .  C ADDR   019AH   A   
HUND . . . . . . .  C ADDR   1556H   A   
A51 MACRO ASSEMBLER  ACOMP                                                                06/21/2009 22:16:49 PAGE    17

IE . . . . . . . .  D ADDR   00A8H   A   
IE0. . . . . . . .  B ADDR   0088H.1 A   
IE1. . . . . . . .  B ADDR   0088H.3 A   
INIT . . . . . . .  C ADDR   0034H   A   
INT0 . . . . . . .  B ADDR   00B0H.2 A   
INT1 . . . . . . .  B ADDR   00B0H.3 A   
INTR . . . . . . .  B ADDR   00B0H.2 A   
IP . . . . . . . .  D ADDR   00B8H   A   
IT0. . . . . . . .  B ADDR   0088H.0 A   
IT1. . . . . . . .  B ADDR   0088H.2 A   
LCDWRITE . . . . .  C ADDR   1472H   A   
LCDWRITEL. . . . .  C ADDR   1480H   A   
LOAD1. . . . . . .  C ADDR   157DH   A   
LOAD2. . . . . . .  C ADDR   158CH   A   
LOAD3. . . . . . .  C ADDR   1598H   A   
LOAD4. . . . . . .  C ADDR   15A4H   A   
LOAD5. . . . . . .  C ADDR   15B3H   A   
MAIN . . . . . . .  C ADDR   00D2H   A   
MAIN_END . . . . .  C ADDR   0187H   A   
MANSWA . . . . . .  C ADDR   14B0H   A   
MANSWB . . . . . .  C ADDR   14BAH   A   
MANSWC . . . . . .  C ADDR   14BEH   A   
MANSWD . . . . . .  C ADDR   14C2H   A   
MORE . . . . . . .  C ADDR   1425H   A   
MOVEON . . . . . .  C ADDR   0122H   A   
MSG1 . . . . . . .  C ADDR   1F00H   A   
MSG2 . . . . . . .  C ADDR   1F0DH   A   
MSG3 . . . . . . .  C ADDR   1F6EH   A   
NIOMI. . . . . . .  C ADDR   1041H   A   
NOPROB . . . . . .  C ADDR   0162H   A   
NOREQ. . . . . . .  C ADDR   0142H   A   
ONES . . . . . . .  C ADDR   157AH   A   
OV . . . . . . . .  B ADDR   00D0H.2 A   
P. . . . . . . . .  B ADDR   00D0H.0 A   
P0 . . . . . . . .  D ADDR   0080H   A   
P0_0 . . . . . . .  B ADDR   0080H.0 A   
P0_1 . . . . . . .  B ADDR   0080H.1 A   
P0_2 . . . . . . .  B ADDR   0080H.2 A   
P0_3 . . . . . . .  B ADDR   0080H.3 A   
P0_4 . . . . . . .  B ADDR   0080H.4 A   
P0_5 . . . . . . .  B ADDR   0080H.5 A   
P0_6 . . . . . . .  B ADDR   0080H.6 A   
P0_7 . . . . . . .  B ADDR   0080H.7 A   
P1 . . . . . . . .  D ADDR   0090H   A   
P1_0 . . . . . . .  B ADDR   0090H.0 A   
P1_1 . . . . . . .  B ADDR   0090H.1 A   
P1_2 . . . . . . .  B ADDR   0090H.2 A   
P1_3 . . . . . . .  B ADDR   0090H.3 A   
P1_4 . . . . . . .  B ADDR   0090H.4 A   
P1_5 . . . . . . .  B ADDR   0090H.5 A   
P1_6 . . . . . . .  B ADDR   0090H.6 A   
P1_7 . . . . . . .  B ADDR   0090H.7 A   
P2 . . . . . . . .  D ADDR   00A0H   A   
P2_0 . . . . . . .  B ADDR   00A0H.0 A   
P2_1 . . . . . . .  B ADDR   00A0H.1 A   
P2_2 . . . . . . .  B ADDR   00A0H.2 A   
P2_3 . . . . . . .  B ADDR   00A0H.3 A   
P2_4 . . . . . . .  B ADDR   00A0H.4 A   
P2_5 . . . . . . .  B ADDR   00A0H.5 A   
P2_6 . . . . . . .  B ADDR   00A0H.6 A   
P2_7 . . . . . . .  B ADDR   00A0H.7 A   
P3 . . . . . . . .  D ADDR   00B0H   A   
P3_0 . . . . . . .  B ADDR   00B0H.0 A   
P3_1 . . . . . . .  B ADDR   00B0H.1 A   
P3_2 . . . . . . .  B ADDR   00B0H.2 A   
P3_3 . . . . . . .  B ADDR   00B0H.3 A   
A51 MACRO ASSEMBLER  ACOMP                                                                06/21/2009 22:16:49 PAGE    18

P3_4 . . . . . . .  B ADDR   00B0H.4 A   
P3_5 . . . . . . .  B ADDR   00B0H.5 A   
P3_6 . . . . . . .  B ADDR   00B0H.6 A   
P3_7 . . . . . . .  B ADDR   00B0H.7 A   
PCON . . . . . . .  D ADDR   0087H   A   
POWERDWN . . . . .  C ADDR   018AH   A   
PROC . . . . . . .  C ADDR   1213H   A   
PROCM. . . . . . .  C ADDR   012BH   A   
PS . . . . . . . .  B ADDR   00B8H.4 A   
PSAFE. . . . . . .  C ADDR   0167H   A   
PSAFEB . . . . . .  C ADDR   0152H   A   
PSW. . . . . . . .  D ADDR   00D0H   A   
PT0. . . . . . . .  B ADDR   00B8H.1 A   
PT1. . . . . . . .  B ADDR   00B8H.3 A   
PT2. . . . . . . .  B ADDR   00B8H.5 A   
PX0. . . . . . . .  B ADDR   00B8H.0 A   
PX1. . . . . . . .  B ADDR   00B8H.2 A   
R10K . . . . . . .  C ADDR   1516H   A   
R1K. . . . . . . .  C ADDR   1536H   A   
RB8. . . . . . . .  B ADDR   0098H.2 A   
RCAP2H . . . . . .  D ADDR   00CBH   A   
RCAP2L . . . . . .  D ADDR   00CAH   A   
RCLK . . . . . . .  B ADDR   00C8H.5 A   
RD . . . . . . . .  B ADDR   00B0H.7 A   
READY. . . . . . .  C ADDR   1446H   A   
REN. . . . . . . .  B ADDR   0098H.4 A   
RESC . . . . . . .  C ADDR   141BH   A   
RESET. . . . . . .  C ADDR   0000H   A   
RI . . . . . . . .  B ADDR   0098H.0 A   
RS . . . . . . . .  B ADDR   0080H.7 A   
RS0. . . . . . . .  B ADDR   00D0H.3 A   
RS1. . . . . . . .  B ADDR   00D0H.4 A   
RSHIFTC. . . . . .  C ADDR   145DH   A   
RW . . . . . . . .  B ADDR   0080H.6 A   
RXD. . . . . . . .  B ADDR   00B0H.0 A   
SAFE1. . . . . . .  C ADDR   016DH   A   
SAFEALL. . . . . .  C ADDR   0183H   A   
SBUF . . . . . . .  D ADDR   0099H   A   
SCALE12. . . . . .  C ADDR   14F2H   A   
SCALE5 . . . . . .  C ADDR   14F7H   A   
SCALE7 . . . . . .  C ADDR   14FCH   A   
SCON . . . . . . .  D ADDR   0098H   A   
SERCON . . . . . .  C ADDR   1000H   A   
SERWAIT. . . . . .  C ADDR   14E9H   A   
SHRIGHT. . . . . .  C ADDR   145FH   A   
SKIPC. . . . . . .  C ADDR   1018H   A   
SKIPC2 . . . . . .  C ADDR   1022H   A   
SKIPC3 . . . . . .  C ADDR   1029H   A   
SM0. . . . . . . .  B ADDR   0098H.7 A   
SM1. . . . . . . .  B ADDR   0098H.6 A   
SM2. . . . . . . .  B ADDR   0098H.5 A   
SP . . . . . . . .  D ADDR   0081H   A   
START. . . . . . .  C ADDR   0030H   A   
STATREQ. . . . . .  C ADDR   0130H   A   
SWA. . . . . . . .  B ADDR   0080H.4 A   
SWB. . . . . . . .  B ADDR   0080H.3 A   
SWC. . . . . . . .  B ADDR   0080H.2 A   
SWD. . . . . . . .  B ADDR   0080H.1 A   
T0 . . . . . . . .  B ADDR   00B0H.4 A   
T1 . . . . . . . .  B ADDR   00B0H.5 A   
T2 . . . . . . . .  B ADDR   0090H.0 A   
T2CON. . . . . . .  D ADDR   00C8H   A   
T2EX . . . . . . .  B ADDR   0090H.1 A   
T2MOD. . . . . . .  D ADDR   00C9H   A   
TB8. . . . . . . .  B ADDR   0098H.3 A   
TCLK . . . . . . .  B ADDR   00C8H.4 A   
A51 MACRO ASSEMBLER  ACOMP                                                                06/21/2009 22:16:49 PAGE    19

TCON . . . . . . .  D ADDR   0088H   A   
TENS . . . . . . .  C ADDR   1570H   A   
TF0. . . . . . . .  B ADDR   0088H.5 A   
TF1. . . . . . . .  B ADDR   0088H.7 A   
TF2. . . . . . . .  B ADDR   00C8H.7 A   
TH0. . . . . . . .  D ADDR   008CH   A   
TH1. . . . . . . .  D ADDR   008DH   A   
TH2. . . . . . . .  D ADDR   00CDH   A   
TI . . . . . . . .  B ADDR   0098H.1 A   
TIME3. . . . . . .  C ADDR   1400H   A   
TL0. . . . . . . .  D ADDR   008AH   A   
TL1. . . . . . . .  D ADDR   008BH   A   
TL2. . . . . . . .  D ADDR   00CCH   A   
TMOD . . . . . . .  D ADDR   0089H   A   
TR0. . . . . . . .  B ADDR   0088H.4 A   
TR1. . . . . . . .  B ADDR   0088H.6 A   
TR2. . . . . . . .  B ADDR   00C8H.2 A   
TXD. . . . . . . .  B ADDR   00B0H.1 A   
TXDBB. . . . . . .  C ADDR   0180H   A   
TXI. . . . . . . .  C ADDR   1033H   A   
WR . . . . . . . .  B ADDR   00B0H.6 A   
WRITEALL . . . . .  C ADDR   1466H   A   
XTOD16 . . . . . .  C ADDR   1501H   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)

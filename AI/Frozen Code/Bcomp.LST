A51 MACRO ASSEMBLER  BCOMP                                                                06/21/2009 22:17:10 PAGE     1


MACRO ASSEMBLER A51 V8.01
OBJECT MODULE PLACED IN Bcomp.OBJ
ASSEMBLER INVOKED BY: D:\Program Files\Keil\C51\BIN\A51.EXE Bcomp.asm SET(SMALL) DEBUG EP

LOC  OBJ            LINE     SOURCE

                       1     ;ASTER 02/03/2009 2135
                       2     ;TO BE ASSEMBLED IN KEIL MICROVISION V3.60
                       3     ;ARTIFICIAL INTELLIGENCE
                       4     ;MICROCOMPUTER B
                       5     
                       6     ;CODE BASE COMPLETED : 03/03/2009 2251
                       7     
                       8     ;REV 3 LAST UPDATED 28/04/2009 1410
                       9     ;REV 4 LAST UPDATED 19/06/2009 1400
                      10     
                      11     ;CODE COMPLETED 21/06/2009 2230 ::: WORKING TESTED ::: PERFECT :: GLITCH00:DURING POWERDOWN
                              SENT '0' NOT RECEIVED
                      12     
                      13     ;------------------------------------------------------------------------------------------
                             -----------------
                      14     ;SET THE ASSEMBLER FOR AT89S52
                      15     $nomod51 
                      16     ;$include (AT89X52.h)
                +1    17     
                +1    18     
                +1    19     
                +1    20     
                +1    21     
                +1    22     
                +1    23     
                +1    24     
                +1    25     
                +1    26     
                +1    27     
                +1    28     
                +1    29     
                +1    30     
  0080          +1    31     sfr P0      = 0x80;
  0081          +1    32     sfr SP      = 0x81;
  0082          +1    33     sfr DPL     = 0x82;
  0083          +1    34     sfr DPH     = 0x83;
  0087          +1    35     sfr PCON    = 0x87;
  0088          +1    36     sfr TCON    = 0x88;
  0089          +1    37     sfr TMOD    = 0x89;
  008A          +1    38     sfr TL0     = 0x8A;
  008B          +1    39     sfr TL1     = 0x8B;
  008C          +1    40     sfr TH0     = 0x8C;
  008D          +1    41     sfr TH1     = 0x8D;
  0090          +1    42     sfr P1      = 0x90;
  0098          +1    43     sfr SCON    = 0x98;
  0099          +1    44     sfr SBUF    = 0x99;
  00A0          +1    45     sfr P2      = 0xA0;
  00A8          +1    46     sfr IE      = 0xA8;
  00B0          +1    47     sfr P3      = 0xB0;
  00B8          +1    48     sfr IP      = 0xB8;
  00C8          +1    49     sfr T2CON   = 0xC8;
  00C9          +1    50     sfr T2MOD   = 0xC9;
  00CA          +1    51     sfr RCAP2L  = 0xCA;
  00CB          +1    52     sfr RCAP2H  = 0xCB;
  00CC          +1    53     sfr TL2     = 0xCC;
  00CD          +1    54     sfr TH2     = 0xCD;
  00D0          +1    55     sfr PSW     = 0xD0;
  00E0          +1    56     sfr ACC     = 0xE0;
A51 MACRO ASSEMBLER  BCOMP                                                                06/21/2009 22:17:10 PAGE     2

  00F0          +1    57     sfr B       = 0xF0;
                +1    58     
                +1    59     
                +1    60     
                +1    61     
  0080          +1    62     sbit P0_0 = 0x80;
  0081          +1    63     sbit P0_1 = 0x81;
  0082          +1    64     sbit P0_2 = 0x82;
  0083          +1    65     sbit P0_3 = 0x83;
  0084          +1    66     sbit P0_4 = 0x84;
  0085          +1    67     sbit P0_5 = 0x85;
  0086          +1    68     sbit P0_6 = 0x86;
  0087          +1    69     sbit P0_7 = 0x87;
                +1    70     
                +1    71     
                +1    72     
                +1    73     
                +1    74     
                +1    75     
                +1    76     
                +1    77     
                +1    78     
                +1    79     
                +1    80     
                +1    81     
                +1    82     
                +1    83     
                +1    84     
                +1    85     
  0088          +1    86     sbit IT0  = 0x88;
  0089          +1    87     sbit IE0  = 0x89;
  008A          +1    88     sbit IT1  = 0x8A;
  008B          +1    89     sbit IE1  = 0x8B;
  008C          +1    90     sbit TR0  = 0x8C;
  008D          +1    91     sbit TF0  = 0x8D;
  008E          +1    92     sbit TR1  = 0x8E;
  008F          +1    93     sbit TF1  = 0x8F;
                +1    94     
                +1    95     
                +1    96     
                +1    97     
                +1    98     
                +1    99     
                +1   100     
                +1   101     
                +1   102     
                +1   103     
                +1   104     
                +1   105     
                +1   106     
                +1   107     
                +1   108     
                +1   109     
                +1   110     
                +1   111     
                +1   112     
  0090          +1   113     sbit P1_0 = 0x90;
  0091          +1   114     sbit P1_1 = 0x91;
  0092          +1   115     sbit P1_2 = 0x92;
  0093          +1   116     sbit P1_3 = 0x93;
  0094          +1   117     sbit P1_4 = 0x94;
  0095          +1   118     sbit P1_5 = 0x95;
  0096          +1   119     sbit P1_6 = 0x96;
  0097          +1   120     sbit P1_7 = 0x97;
                +1   121     
  0090          +1   122     sbit T2   = 0x90;       /* External input to Timer/Counter 2, clock out */
A51 MACRO ASSEMBLER  BCOMP                                                                06/21/2009 22:17:10 PAGE     3

  0091          +1   123     sbit T2EX = 0x91;       /* Timer/Counter 2 capture/reload trigger & dir ctl */
                +1   124     
                +1   125     
                +1   126     
                +1   127     
  0098          +1   128     sbit RI   = 0x98;
  0099          +1   129     sbit TI   = 0x99;
  009A          +1   130     sbit RB8  = 0x9A;
  009B          +1   131     sbit TB8  = 0x9B;
  009C          +1   132     sbit REN  = 0x9C;
  009D          +1   133     sbit SM2  = 0x9D;
  009E          +1   134     sbit SM1  = 0x9E;
  009F          +1   135     sbit SM0  = 0x9F;
                +1   136     
                +1   137     
                +1   138     
                +1   139     
  00A0          +1   140     sbit P2_0 = 0xA0;
  00A1          +1   141     sbit P2_1 = 0xA1;
  00A2          +1   142     sbit P2_2 = 0xA2;
  00A3          +1   143     sbit P2_3 = 0xA3;
  00A4          +1   144     sbit P2_4 = 0xA4;
  00A5          +1   145     sbit P2_5 = 0xA5;
  00A6          +1   146     sbit P2_6 = 0xA6;
  00A7          +1   147     sbit P2_7 = 0xA7;
                +1   148     
                +1   149     
                +1   150     
                +1   151     
  00A8          +1   152     sbit EX0  = 0xA8;       /* 1=Enable External interrupt 0 */
  00A9          +1   153     sbit ET0  = 0xA9;       /* 1=Enable Timer 0 interrupt */
  00AA          +1   154     sbit EX1  = 0xAA;       /* 1=Enable External interrupt 1 */
  00AB          +1   155     sbit ET1  = 0xAB;       /* 1=Enable Timer 1 interrupt */
  00AC          +1   156     sbit ES   = 0xAC;       /* 1=Enable Serial port interrupt */
  00AD          +1   157     sbit ET2  = 0xAD;       /* 1=Enable Timer 2 interrupt */
                +1   158     
  00AF          +1   159     sbit EA   = 0xAF;       /* 0=Disable all interrupts */
                +1   160     
                +1   161     
                +1   162     
                +1   163     
  00B0          +1   164     sbit P3_0 = 0xB0;
  00B1          +1   165     sbit P3_1 = 0xB1;
  00B2          +1   166     sbit P3_2 = 0xB2;
  00B3          +1   167     sbit P3_3 = 0xB3;
  00B4          +1   168     sbit P3_4 = 0xB4;
  00B5          +1   169     sbit P3_5 = 0xB5;
  00B6          +1   170     sbit P3_6 = 0xB6;
  00B7          +1   171     sbit P3_7 = 0xB7;
                +1   172     
  00B0          +1   173     sbit RXD  = 0xB0;       /* Serial data input */
  00B1          +1   174     sbit TXD  = 0xB1;       /* Serial data output */
  00B2          +1   175     sbit INT0 = 0xB2;       /* External interrupt 0 */
  00B3          +1   176     sbit INT1 = 0xB3;       /* External interrupt 1 */
  00B4          +1   177     sbit T0   = 0xB4;       /* Timer 0 external input */
  00B5          +1   178     sbit T1   = 0xB5;       /* Timer 1 external input */
  00B6          +1   179     sbit WR   = 0xB6;       /* External data memory write strobe */
  00B7          +1   180     sbit RD   = 0xB7;       /* External data memory read strobe */
                +1   181     
                +1   182     
                +1   183     
                +1   184     
  00B8          +1   185     sbit PX0  = 0xB8;
  00B9          +1   186     sbit PT0  = 0xB9;
  00BA          +1   187     sbit PX1  = 0xBA;
  00BB          +1   188     sbit PT1  = 0xBB;
A51 MACRO ASSEMBLER  BCOMP                                                                06/21/2009 22:17:10 PAGE     4

  00BC          +1   189     sbit PS   = 0xBC;
  00BD          +1   190     sbit PT2  = 0xBD;
                +1   191     
                +1   192     
                +1   193     
                +1   194     
  00C8          +1   195     sbit CP_RL2= 0xC8;      /* 0=Reload, 1=Capture select */
  00C9          +1   196     sbit C_T2 = 0xC9;       /* 0=Timer, 1=Counter */
  00CA          +1   197     sbit TR2  = 0xCA;       /* 0=Stop timer, 1=Start timer */
  00CB          +1   198     sbit EXEN2= 0xCB;       /* Timer 2 external enable */
  00CC          +1   199     sbit TCLK = 0xCC;       /* 0=Serial clock uses Timer 1 overflow, 1=Timer 2 */
  00CD          +1   200     sbit RCLK = 0xCD;       /* 0=Serial clock uses Timer 1 overflow, 1=Timer 2 */
  00CE          +1   201     sbit EXF2 = 0xCE;       /* Timer 2 external flag */
  00CF          +1   202     sbit TF2  = 0xCF;       /* Timer 2 overflow flag */
                +1   203     
                +1   204     
                +1   205     
                +1   206     
                +1   207     
                +1   208     
                +1   209     
                +1   210     
                +1   211     
                +1   212     
  00D0          +1   213     sbit P    = 0xD0;
  00D1          +1   214     sbit F1   = 0xD1;
  00D2          +1   215     sbit OV   = 0xD2;
  00D3          +1   216     sbit RS0  = 0xD3;
  00D4          +1   217     sbit RS1  = 0xD4;
  00D5          +1   218     sbit F0   = 0xD5;
  00D6          +1   219     sbit AC   = 0xD6;
  00D7          +1   220     sbit CY   = 0xD7;
                +1   221     
                +1   222     
                +1   223     
                +1   224     
                +1   225     
                +1   226     
                +1   227     
                +1   228     
                +1   229     
                +1   230     
                +1   231     
                +1   232     
                +1   233     
                +1   234     
                +1   235     
                +1   236     
                +1   237     
                     238     
                     239     
                     240     ;DEFINITIONS
  0097               241     SBIT SYSBUSY=P1^7                                               ;LOW=> SYSTEM IS HANDLING A
                             N OPERATION
                     242     ;------------------------------------------------------------------------------------------
                             -----------------
                     243     ;MICROCOMPUTER INITIALIZATIONS
0000                 244     ORG 0000H
                     245     
0000 802E            246     RESET:          SJMP 0030H 
                     247     
0030                 248     ORG 0030H
                     249     
0030 00              250     START:          NOP
0031 758110          251                             MOV SP,#10H                                     ;RELOCATE STACK OVE
                             R 10H
A51 MACRO ASSEMBLER  BCOMP                                                                06/21/2009 22:17:10 PAGE     5

                     252                              
0034 E4              253                             CLR A
0035 F580            254                             MOV P0,A
0037 F590            255                             MOV P1,A
0039 F5A0            256                             MOV P2,A
003B 75B0FF          257                             MOV P3,#0FFH
003E D297            258                             SETB P1.7
                     259     
0040 121746          260                             LCALL DELAYIN
                     261     
0043 7820            262                             MOV R0,#20H                                     ;CLEAR RAM FROM 20H
                              TO 7FH
0045 E4              263                             CLR A
0046 F6              264     CLRALL:         MOV @R0,A
0047 08              265                             INC R0
0048 B87FFB          266                             CJNE R0,#7FH,CLRALL
                     267     
                     268                             
004B 75C830          269                             MOV T2CON,#30H                          ;SET UP THE UART 9600BPS
004E 75CBFF          270                             MOV RCAP2H,#0FFH
0051 75CADC          271                             MOV RCAP2L,#0DCH
0054 758910          272                             MOV TMOD,#10H                           ;CONFIGURE TIMER 1 FOR SERV
                             O USE
                     273     
0057 53877F          274                             ANL PCON,#7FH
                     275                             
005A D2D3            276                             SETB PSW.3                                      ;R0 OF BANK1 POINTS
                              TO COMMAND SPACE(60-67H)
005C 7860            277                             MOV R0,#60H
005E C2D3            278                             CLR PSW.3
                     279     
0060 75A890          280                             MOV IE,#90H                                     ;ENABLE INTERRUPTS:
                              SERIAL
0063 75B810          281                             MOV IP,#10H
                     282                             
0066 759858          283                             MOV SCON,#58H
0069 D2CA            284                             SETB TR2                                        ;START BAUD GEN TIM
                             ER
006B 7860            285                             MOV R0,#60H
                     286     
                     287     
                     288     ;------------------------------------------------------------------------------------------
                             ----------------
                     289     ;******************************************************************************************
                             ****************
                     290     ;THE PROGRAM MAIN
                     291     ;PASS DIRECTION IN R2,BANK0 : 00H->FORWARD, 01H->BACKWARD, 02H->ROLL AND STOP, 03H->HARD ST
                             OP
                     292     ;CALL THE CORRESPONDING MOTOR FUNCTION AFTER LOADING R2 WITH THE FUNCTION CODES LISTED ABOV
                             E
                     293     
006D E6              294     MAIN:           MOV A,@R0
006E 6018            295                             JZ NOCOMM
0070 7600            296                             MOV @R0,#00H                            ;CLEAR THE PROCESSED COMMAN
                             D
                     297                             
0072 901000          298                             MOV DPTR,#1000H
0075 C3              299                             CLR C
0076 9460            300                             SUBB A,#60H
0078 75F010          301                             MOV B,#16
007B A4              302                             MUL AB
007C 2582            303                             ADD A,DPL
007E F582            304                             MOV DPL,A
0080 E5F0            305                             MOV A,B
0082 3583            306                             ADDC A,DPH
0084 F583            307                             MOV DPH,A
A51 MACRO ASSEMBLER  BCOMP                                                                06/21/2009 22:17:10 PAGE     6

                     308     
0086 E4              309                             CLR A
0087 73              310                             JMP @A+DPTR
                     311                                     
                     312     
                     313     
0088 08              314     NOCOMM:         INC R0
0089 B86802          315                             CJNE R0,#68H,INRAN
008C 7860            316                             MOV R0,#60H
008E 00              317     INRAN:          NOP
                     318     
008F 207903          319                             JB 79H,POWERDWN         ;IF 'Z' IS RECEIVED, POWER DOWN
                     320             
0092 02006D          321     MAIN_END:       LJMP MAIN
                     322     
                     323     
                     324     
                     325     
                     326     
                     327     ;MAIN ENDS HERE
                     328     ;******************************************************************************************
                             ****************
                     329     ;------------------------------------------------------------------------------------------
                             ----------------
                     330     ;POWER DOWN IN CASE OF BATTERY BROWN OUT
0095 00              331     POWERDWN:       NOP
0096 C2AF            332                             CLR IE.7                        ;DISABLE ALL INTERRUPTS
0098 E4              333                             CLR A
0099 F580            334                             MOV P0,A
009B F590            335                             MOV P1,A
009D F5A0            336                             MOV P2,A
009F F5B0            337                             MOV P3,A
00A1 121746          338                             LCALL DELAYIN
00A4 759930          339                             MOV SBUF,#30H
00A7 758702          340                             MOV PCON,#02H           ;PUT MC INTO POWERDOWN MODE
00AA 00              341                             NOP
00AB 80FE            342     HALTDB:         SJMP HALTDB
                     343     
                     344     ;------------------------------------------------------------------------------------------
                             ----
                     345     ;COMMAND PROCESSING
                     346     
1010                 347     ORG 1010H       ;CLOSE RIGHT CLASPER
1010 C297            348     CLR SYSBUSY
1012 7A00            349     MOV R2,#00H
1014 12163B          350     LCALL CRGT
1017 D297            351     SETB SYSBUSY
1019 020088          352     LJMP NOCOMM
                     353     
1020                 354     ORG 1020H       ;OPEN RIGHT CLASPER
1020 C297            355     CLR SYSBUSY
1022 7A01            356     MOV R2,#01H
1024 12163B          357     LCALL CRGT
1027 D297            358     SETB SYSBUSY
1029 020088          359     LJMP NOCOMM
                     360     
1030                 361     ORG 1030H       ;RIGHT SHOULDER UP
1030 C297            362     CLR SYSBUSY
1032 7A00            363     MOV R2,#00H
1034 1214EF          364     LCALL SHLRGT
1037 020088          365     LJMP NOCOMM
                     366     
1040                 367     ORG 1040H  ;LEFT SHOULDER UP
1040 C297            368     CLR SYSBUSY
1042 7A00            369     MOV R2,#00H
1044 121542          370     LCALL SHLLFT
A51 MACRO ASSEMBLER  BCOMP                                                                06/21/2009 22:17:10 PAGE     7

1047 020088          371     LJMP NOCOMM
                     372     
1050                 373     ORG 1050H       ;RIGHT SHOULDER DOWN
1050 C297            374     CLR SYSBUSY
1052 7A01            375     MOV R2,#01H
1054 1214EF          376     LCALL SHLRGT
1057 020088          377     LJMP NOCOMM
                     378     
1060                 379     ORG 1060H  ;LEFT SHOULDER DOWN
1060 C297            380     CLR SYSBUSY
1062 7A01            381     MOV R2,#01H
1064 121542          382     LCALL SHLLFT
1067 020088          383     LJMP NOCOMM
                     384     
1070                 385     ORG 1070H       ;RIGHT FOREARM UP
1070 C297            386     CLR SYSBUSY
1072 7A00            387     MOV R2,#00H
1074 121595          388     LCALL ELRGT
1077 020088          389     LJMP NOCOMM
                     390     
1080                 391     ORG 1080H       ;LEFT FOREARM UP
1080 C297            392     CLR SYSBUSY
1082 7A00            393     MOV R2,#00H
1084 1215E8          394     LCALL ELLFT
1087 020088          395     LJMP NOCOMM
                     396     
1090                 397     ORG 1090H       ;RIGHT FOREARM DOWN
1090 C297            398     CLR SYSBUSY
1092 7A01            399     MOV R2,#01H
1094 121595          400     LCALL ELRGT
1097 020088          401     LJMP NOCOMM
                     402     
10A0                 403     ORG 10A0H       ;LEFT FOREARM DOWN
10A0 C297            404     CLR SYSBUSY
10A2 7A01            405     MOV R2,#01H
10A4 1215E8          406     LCALL ELLFT
10A7 020088          407     LJMP NOCOMM
                     408     
10B0                 409     ORG 10B0H       ;MOVE FORWARD
10B0 C297            410     CLR SYSBUSY
10B2 7A00            411     MOV R2,#00H
10B4 121449          412     LCALL BSERGT
10B7 12149C          413     LCALL BSELFT
10BA 020088          414     LJMP NOCOMM
                     415     
10C0                 416     ORG 10C0H       ;MOVE BACKWARD
10C0 C297            417     CLR SYSBUSY
10C2 7A01            418     MOV R2,#01H
10C4 121449          419     LCALL BSERGT
10C7 12149C          420     LCALL BSELFT
10CA 020088          421     LJMP NOCOMM
                     422     
10D0                 423     ORG 10D0H       ;TURN RIGHT
10D0 C297            424     CLR SYSBUSY
10D2 7A00            425     MOV R2,#00H
10D4 12149C          426     LCALL BSELFT
10D7 7A01            427     MOV R2,#01H
10D9 121449          428     LCALL BSERGT
10DC 020088          429     LJMP NOCOMM
                     430     
10E0                 431     ORG 10E0H       ;TURN LEFT
10E0 C297            432     CLR SYSBUSY
10E2 7A00            433     MOV R2,#00H
10E4 121449          434     LCALL BSERGT
10E7 7A01            435     MOV R2,#01H
10E9 12149C          436     LCALL BSELFT
A51 MACRO ASSEMBLER  BCOMP                                                                06/21/2009 22:17:10 PAGE     8

10EC 020088          437     LJMP NOCOMM
                     438     
10F0                 439     ORG 10F0H       ;CLOSE LEFT CLASPER
10F0 C297            440     CLR SYSBUSY
10F2 7A01            441     MOV R2,#01H
10F4 121697          442     LCALL CLFT
10F7 D297            443     SETB SYSBUSY
10F9 020088          444     LJMP NOCOMM
                     445     
1100                 446     ORG 1100H       ;OPEN LEFT CLASPER
1100 C297            447     CLR SYSBUSY
1102 7A00            448     MOV R2,#00H
1104 121697          449     LCALL CLFT
1107 D297            450     SETB SYSBUSY
1109 020088          451     LJMP NOCOMM
                     452     
1110                 453     ORG 1110H       ;MOVEMENT STOP
1110 D297            454     SETB SYSBUSY
1112 7A02            455     MOV R2,#02H
1114 121449          456     LCALL BSERGT
1117 12149C          457     LCALL BSELFT
111A 020088          458     LJMP NOCOMM
                     459     
1120                 460     ORG 1120H       ;RIGHT SHOULDER STOP
1120 D297            461     SETB SYSBUSY
1122 7A03            462     MOV R2,#03H     
1124 1214EF          463     LCALL SHLRGT
1127 020088          464     LJMP NOCOMM
                     465     
1130                 466     ORG 1130H       ;LEFT SHOULDER STOP
1130 D297            467     SETB SYSBUSY
1132 7A03            468     MOV R2,#03H
1134 121542          469     LCALL SHLLFT
1137 020088          470     LJMP NOCOMM
                     471     
1140                 472     ORG 1140H       ;RIGHT FOREARM STOP
1140 D297            473     SETB SYSBUSY
1142 7A03            474     MOV R2,#03H
1144 121595          475     LCALL ELRGT
1147 020088          476     LJMP NOCOMM
                     477     
1150                 478     ORG 1150H       ;LEFT FOREARM STOP
1150 D297            479     SETB SYSBUSY
1152 7A03            480     MOV R2,#03H
1154 1215E8          481     LCALL ELLFT
1157 020088          482     LJMP NOCOMM
                     483     
1160                 484     ORG 1160H       ;TURN HEAD RIGHT
1160 C297            485     CLR SYSBUSY
1162 7A00            486     MOV R2,#00H
1164 1216F3          487     LCALL HEADM
1167 020088          488     LJMP NOCOMM
                     489     
1170                 490     ORG 1170H       ;TURN HEAD LEFT
1170 C297            491     CLR SYSBUSY
1172 7A01            492     MOV R2,#01H
1174 1216F3          493     LCALL HEADM
1177 020088          494     LJMP NOCOMM
                     495     
1180                 496     ORG 1180H       ;HARD STOP HEAD
1180 D297            497     SETB SYSBUSY
1182 7A03            498     MOV R2,#03H
1184 1216F3          499     LCALL HEADM
1187 020088          500     LJMP NOCOMM
                     501     
                     502     
A51 MACRO ASSEMBLER  BCOMP                                                                06/21/2009 22:17:10 PAGE     9

                     503     ;------------------------------------------------------------------------------------------
                             ----------------
                     504     ;------------------------------------------------------------------------------------------
                             ----------------
                     505     ;INTERRUPT SERVICE ROUTINES
                     506     ;SERIAL INTERRUPT
0023                 507     ORG 0023H
0023 021400          508                             LJMP 1400H
1400                 509     ORG 1400H
                     510     
1400 C2CA            511     SERCON:         CLR TR2
1402 C0E0            512                             PUSH ACC
1404 30983A          513                             JNB RI,TXI
1407 C298            514                             CLR RI
1409 E599            515                             MOV A,SBUF
140B 20D50A          516                             JB PSW.5,SKIPC
140E B4312B          517                             CJNE A,#31H,EXITC0                      ;PSW.5 SET IMPLIES CONNECTI
                             ON ESTABLISHED
1411 759931          518                             MOV SBUF,#31H                           ;C-ACK  CONNECT ADDRESS=31H
1414 D2D5            519                             SETB PSW.5
1416 802B            520                             SJMP EXITC
1418 B43207          521     SKIPC:          CJNE A,#32H,SKIPC2                      ;SEND DISCONNECT AND DROP CONNECTIO
                             N IF DISCONNECT IS RECEIVED
141B 759932          522                             MOV SBUF,#32H                           ;D-ACK  DISCONNECT ADDRESS=
                             32H
141E C2D5            523                             CLR PSW.5
1420 8021            524                             SJMP EXITC
1422 D2D3            525     SKIPC2:         SETB PSW.3                                      
1424 B46100          526                             CJNE A,#61H,VERFLL                      ;COMMAND RANGE CHECK
1427 4013            527     VERFLL:         JC EXITC0
1429 B48000          528                             CJNE A,#80H,VERFLU
142C 500E            529     VERFLU:         JNC EXITC0
142E F6              530                             MOV @R0,A                                       ;LOAD THE RECEIVED 
                             COMMAND IN THE COMMAND SPACE(60-67H)
142F 08              531                             INC R0
1430 B86802          532                             CJNE R0,#68H,INRANGE
1433 7860            533                             MOV R0,#60H
1435 759939          534     INRANGE:        MOV SBUF,#39H                           ;SEND ACK
1438 C2D3            535                             CLR PSW.3
143A 8007            536                             SJMP EXITC
143C B45A04          537     EXITC0:         CJNE A,#'Z',EXITC
143F D279            538                             SETB 79H                                        ;SET 79H TO INDICAT
                             E POWER DOWN IN CASE OF BROWN OUT
1441 C299            539     TXI:            CLR TI
1443 D0E0            540     EXITC:          POP ACC
1445 D2CA            541                             SETB TR2
1447 00              542                             NOP
1448 32              543                             RETI
                     544     
                     545     ;------------------------------------------------------------------------------------------
                             ----------------
                     546     ;MOTOR DRIVING ROUTINES
                     547     
                     548     ;MOTOR 1: BASE RIGHT MOTOR :: MOTOR CODE: 01H
1449 00              549     BSERGT:         NOP
144A BA0009          550                             CJNE R2,#00H,BACK1
144D D2A0            551                             SETB P2.0
144F C2A1            552                             CLR P2.1
1451 753400          553                             MOV 34H,#00H
1454 8044            554                             SJMP DONE1      
1456 BA0109          555     BACK1:          CJNE R2,#01H,RSTP1
1459 C2A0            556                             CLR P2.0
145B D2A1            557                             SETB P2.1
145D 753401          558                             MOV 34H,#01H
1460 8038            559                             SJMP DONE1
1462 BA0209          560     RSTP1:          CJNE R2,#02H,HSTP1
A51 MACRO ASSEMBLER  BCOMP                                                                06/21/2009 22:17:10 PAGE    10

1465 C2A0            561                             CLR P2.0
1467 C2A1            562                             CLR P2.1
1469 753404          563                             MOV 34H,#04H
146C 802C            564                             SJMP DONE1
146E AB34            565     HSTP1:          MOV R3,34H
1470 BB0013          566                             CJNE R3,#00H,RREV1
1473 C2A0            567     RFOR1:          CLR P2.0
1475 C2A1            568                             CLR P2.1
1477 121753          569                             LCALL DELAYHS
147A D2A1            570                             SETB P2.1
147C 121753          571                             LCALL DELAYHS
147F C2A1            572                             CLR P2.1
1481 753404          573                             MOV 34H,#04H
1484 8014            574                             SJMP DONE1
1486 BB0111          575     RREV1:          CJNE R3,#01H,DONE1
1489 C2A0            576                             CLR P2.0
148B C2A1            577                             CLR P2.1
148D 121753          578                             LCALL DELAYHS
1490 D2A0            579                             SETB P2.0
1492 121753          580                             LCALL DELAYHS
1495 C2A0            581                             CLR P2.0
1497 753404          582                             MOV 34H,#04H
149A 00              583     DONE1:          NOP
149B 22              584                             RET
                     585     
                     586     ;MOTOR 2: BASE LEFT MOTOR :: MOTOR CODE: 02H
149C 00              587     BSELFT:         NOP
149D BA0009          588                             CJNE R2,#00H,BACK2
14A0 D2A2            589                             SETB P2.2
14A2 C2A3            590                             CLR P2.3
14A4 753800          591                             MOV 38H,#00H
14A7 8044            592                             SJMP DONE2      
14A9 BA0109          593     BACK2:          CJNE R2,#01H,RSTP2
14AC C2A2            594                             CLR P2.2
14AE D2A3            595                             SETB P2.3
14B0 753801          596                             MOV 38H,#01H
14B3 8038            597                             SJMP DONE2
14B5 BA0209          598     RSTP2:          CJNE R2,#02H,HSTP2
14B8 C2A2            599                             CLR P2.2
14BA C2A3            600                             CLR P2.3
14BC 753804          601                             MOV 38H,#04H
14BF 802C            602                             SJMP DONE2
14C1 AB38            603     HSTP2:          MOV R3,38H
14C3 BB0013          604                             CJNE R3,#00H,RREV2
14C6 C2A2            605     RFOR2:          CLR P2.2
14C8 C2A3            606                             CLR P2.3
14CA 121753          607                             LCALL DELAYHS
14CD D2A3            608                             SETB P2.3
14CF 121753          609                             LCALL DELAYHS
14D2 C2A3            610                             CLR P2.3
14D4 753804          611                             MOV 38H,#04H
14D7 8014            612                             SJMP DONE2
14D9 BB0111          613     RREV2:          CJNE R3,#01H,DONE2
14DC C2A2            614                             CLR P2.2
14DE C2A3            615                             CLR P2.3
14E0 121753          616                             LCALL DELAYHS
14E3 D2A2            617                             SETB P2.2
14E5 121753          618                             LCALL DELAYHS
14E8 C2A2            619                             CLR P2.2
14EA 753804          620                             MOV 38H,#04H
14ED 00              621     DONE2:          NOP
14EE 22              622                             RET
                     623     
                     624     ;MOTOR 3: SHOULDER RIGHT MOTOR :: MOTOR CODE: 03H
14EF 00              625     SHLRGT:         NOP
14F0 BA0009          626                             CJNE R2,#00H,BACK3
A51 MACRO ASSEMBLER  BCOMP                                                                06/21/2009 22:17:10 PAGE    11

14F3 D2A4            627                             SETB P2.4
14F5 C2A5            628                             CLR P2.5
14F7 753C00          629                             MOV 3CH,#00H
14FA 809E            630                             SJMP DONE1      
14FC BA0109          631     BACK3:          CJNE R2,#01H,RSTP3
14FF C2A4            632                             CLR P2.4
1501 D2A5            633                             SETB P2.5
1503 753C01          634                             MOV 3CH,#01H
1506 8038            635                             SJMP DONE3
1508 BA0209          636     RSTP3:          CJNE R2,#02H,HSTP3
150B C2A4            637                             CLR P2.4
150D C2A5            638                             CLR P2.5
150F 753C04          639                             MOV 3CH,#04H
1512 802C            640                             SJMP DONE3
1514 AB3C            641     HSTP3:          MOV R3,3CH
1516 BB0013          642                             CJNE R3,#00H,RREV3
1519 C2A4            643     RFOR3:          CLR P2.4
151B C2A5            644                             CLR P2.5
151D 121753          645                             LCALL DELAYHS
1520 D2A5            646                             SETB P2.5
1522 121753          647                             LCALL DELAYHS
1525 C2A5            648                             CLR P2.5
1527 753C04          649                             MOV 3CH,#04H
152A 8014            650                             SJMP DONE3
152C BB0111          651     RREV3:          CJNE R3,#01H,DONE3
152F C2A4            652                             CLR P2.4
1531 C2A5            653                             CLR P2.5
1533 121753          654                             LCALL DELAYHS
1536 D2A4            655                             SETB P2.4
1538 121753          656                             LCALL DELAYHS
153B C2A4            657                             CLR P2.4
153D 753C04          658                             MOV 3CH,#04H
1540 00              659     DONE3:          NOP
1541 22              660                             RET
                     661     
                     662     ;MOTOR 4: SHOULDER LEFT MOTOR :: MOTOR CODE: 04H
1542 00              663     SHLLFT:         NOP
1543 BA0009          664                             CJNE R2,#00H,BACK4
1546 D2A6            665                             SETB P2.6
1548 C2A7            666                             CLR P2.7
154A 754000          667                             MOV 40H,#00H
154D 8044            668                             SJMP DONE4      
154F BA0109          669     BACK4:          CJNE R2,#01H,RSTP4
1552 C2A6            670                             CLR P2.6
1554 D2A7            671                             SETB P2.7
1556 754001          672                             MOV 40H,#01H
1559 8038            673                             SJMP DONE4
155B BA0209          674     RSTP4:          CJNE R2,#02H,HSTP4
155E C2A6            675                             CLR P2.6
1560 C2A7            676                             CLR P2.7
1562 754004          677                             MOV 40H,#04H
1565 802C            678                             SJMP DONE4
1567 AB40            679     HSTP4:          MOV R3,40H
1569 BB0013          680                             CJNE R3,#00H,RREV4
156C C2A6            681     RFOR4:          CLR P2.6
156E C2A7            682                             CLR P2.7
1570 121753          683                             LCALL DELAYHS
1573 D2A7            684                             SETB P2.7
1575 121753          685                             LCALL DELAYHS
1578 C2A7            686                             CLR P2.7
157A 754004          687                             MOV 40H,#04H
157D 8014            688                             SJMP DONE4
157F BB0111          689     RREV4:          CJNE R3,#01H,DONE4
1582 C2A6            690                             CLR P2.6
1584 C2A7            691                             CLR P2.7
1586 121753          692                             LCALL DELAYHS
A51 MACRO ASSEMBLER  BCOMP                                                                06/21/2009 22:17:10 PAGE    12

1589 D2A6            693                             SETB P2.6
158B 121753          694                             LCALL DELAYHS
158E C2A6            695                             CLR P2.6
1590 754004          696                             MOV 40H,#04H
1593 00              697     DONE4:          NOP
1594 22              698                             RET
                     699     
                     700     ;MOTOR 5: ARM ELBOW RIGHT MOTOR :: MOTOR CODE : 05H
1595 00              701     ELRGT:          NOP
1596 BA0009          702                             CJNE R2,#00H,BACK5
1599 D290            703                             SETB P1.0
159B C291            704                             CLR P1.1
159D 754400          705                             MOV 44H,#00H
15A0 8044            706                             SJMP DONE5      
15A2 BA0109          707     BACK5:          CJNE R2,#01H,RSTP5
15A5 C290            708                             CLR P1.0
15A7 D291            709                             SETB P1.1
15A9 754401          710                             MOV 44H,#01H
15AC 8038            711                             SJMP DONE5
15AE BA0209          712     RSTP5:          CJNE R2,#02H,HSTP5
15B1 C290            713                             CLR P1.0
15B3 C291            714                             CLR P1.1
15B5 754404          715                             MOV 44H,#04H
15B8 802C            716                             SJMP DONE5
15BA AB44            717     HSTP5:          MOV R3,44H
15BC BB0013          718                             CJNE R3,#00H,RREV5
15BF C290            719     RFOR5:          CLR P1.0
15C1 C291            720                             CLR P1.1
15C3 121753          721                             LCALL DELAYHS
15C6 D291            722                             SETB P1.1
15C8 121753          723                             LCALL DELAYHS
15CB C291            724                             CLR P1.1
15CD 754404          725                             MOV 44H,#04H
15D0 8014            726                             SJMP DONE5
15D2 BB0111          727     RREV5:          CJNE R3,#01H,DONE5
15D5 C290            728                             CLR P1.0
15D7 C291            729                             CLR P1.1
15D9 121753          730                             LCALL DELAYHS
15DC D290            731                             SETB P1.0
15DE 121753          732                             LCALL DELAYHS
15E1 C290            733                             CLR P1.0
15E3 754404          734                             MOV 44H,#04H
15E6 00              735     DONE5:          NOP
15E7 22              736                             RET
                     737     
                     738     ;MOTOR 6: ARM ELBOW LEFT MOTOR :: MOTOR CODE : 06H
15E8 00              739     ELLFT:          NOP
15E9 BA0009          740                             CJNE R2,#00H,BACK6
15EC D292            741                             SETB P1.2
15EE C293            742                             CLR P1.3
15F0 754800          743                             MOV 48H,#00H
15F3 8044            744                             SJMP DONE6      
15F5 BA0109          745     BACK6:          CJNE R2,#01H,RSTP6
15F8 C292            746                             CLR P1.2
15FA D293            747                             SETB P1.3
15FC 754801          748                             MOV 48H,#01H
15FF 8038            749                             SJMP DONE6
1601 BA0209          750     RSTP6:          CJNE R2,#02H,HSTP6
1604 C292            751                             CLR P1.2
1606 C293            752                             CLR P1.3
1608 754804          753                             MOV 48H,#04H
160B 802C            754                             SJMP DONE6
160D AB48            755     HSTP6:          MOV R3,48H
160F BB0013          756                             CJNE R3,#00H,RREV6
1612 C292            757     RFOR6:          CLR P1.2
1614 C293            758                             CLR P1.3
A51 MACRO ASSEMBLER  BCOMP                                                                06/21/2009 22:17:10 PAGE    13

1616 121753          759                             LCALL DELAYHS
1619 D293            760                             SETB P1.3
161B 121753          761                             LCALL DELAYHS
161E C293            762                             CLR P1.3
1620 754804          763                             MOV 48H,#04H
1623 8014            764                             SJMP DONE6
1625 BB0111          765     RREV6:          CJNE R3,#01H,DONE6
1628 C292            766                             CLR P1.2
162A C293            767                             CLR P1.3
162C 121753          768                             LCALL DELAYHS
162F D292            769                             SETB P1.2
1631 121753          770                             LCALL DELAYHS
1634 C292            771                             CLR P1.2
1636 754804          772                             MOV 48H,#04H
1639 00              773     DONE6:          NOP
163A 22              774                             RET
                     775     
                     776     ;MOTOR 7: RIGHT CLASPER :: MOTOR CODE: 07H : SIGNAL ON P1.4
163B BA002C          777     CRGT:           CJNE R2,#00H,CLOPENR
163E 7E05            778     CLCLOSER:       MOV R6,#05H
1640 7F02            779     AGAINR:         MOV R7,#02H
1642 C294            780     N45MSR:         CLR P1.4
1644 C28E            781                             CLR TR1
1646 C28F            782                             CLR TF1
1648 758D5D          783                             MOV TH1,#5DH
164B 758BFD          784                             MOV TL1,#0FDH
164E D28E            785                             SETB TR1
1650 308FFD          786     WAITLR:         JNB TF1,WAITLR
1653 C28F            787                             CLR TF1
1655 DFEB            788                             DJNZ R7,N45MSR
1657 C28E            789                             CLR TR1
1659 758DFD          790                             MOV TH1,#0FDH
165C 758BD7          791                             MOV TL1,#0D7H
165F D294            792                             SETB P1.4
1661 D28E            793                             SETB TR1
1663 308FFD          794     WAITHR:         JNB TF1,WAITHR
1666 DED8            795                             DJNZ R6,AGAINR
1668 802A            796                             SJMP EXITCR
166A 7E08            797     CLOPENR:        MOV R6,#08H
166C C28E            798     AGAINRC:        CLR TR1
166E 758DE2          799                             MOV TH1,#0E2H
1671 758BD7          800                             MOV TL1,#0D7H
1674 D294            801                             SETB P1.4
1676 D28E            802                             SETB TR1
1678 308FFD          803     WAITHRC:        JNB TF1,WAITHRC
167B 7F02            804                             MOV R7,#02H
167D C294            805     N45MSRC:        CLR P1.4
167F C28E            806                             CLR TR1
1681 C28F            807                             CLR TF1
1683 758D5D          808                             MOV TH1,#5DH
1686 758BFD          809                             MOV TL1,#0FDH
1689 D28E            810                             SETB TR1
168B 308FFD          811     WAITLRC:        JNB TF1,WAITLRC
168E C28F            812                             CLR TF1
1690 DFEB            813                             DJNZ R7,N45MSRC
1692 DED8            814                             DJNZ R6,AGAINRC
1694 C28E            815     EXITCR:         CLR TR1
1696 22              816                             RET
                     817     
                     818     ;MOTOR 8: LEFT CLASPER :: MOTOR CODE : 08H      : SIGNAL ON P1.5
1697 BA002C          819     CLFT:           CJNE R2,#00H,CLOPENL
169A 7E0C            820     CLCLOSEL:       MOV R6,#0CH
169C 7F02            821     AGAINL:         MOV R7,#02H
169E C295            822     N45MSL:         CLR P1.5
16A0 C28E            823                             CLR TR1
16A2 C28F            824                             CLR TF1
A51 MACRO ASSEMBLER  BCOMP                                                                06/21/2009 22:17:10 PAGE    14

16A4 758D5D          825                             MOV TH1,#5DH
16A7 758BFD          826                             MOV TL1,#0FDH
16AA D28E            827                             SETB TR1
16AC 308FFD          828     WAITLL:         JNB TF1,WAITLL
16AF C28F            829                             CLR TF1
16B1 DFEB            830                             DJNZ R7,N45MSL
16B3 C28E            831                             CLR TR1
16B5 758DFD          832                             MOV TH1,#0FDH
16B8 758BD7          833                             MOV TL1,#0D7H
16BB D295            834                             SETB P1.5
16BD D28E            835                             SETB TR1
16BF 308FFD          836     WAITHL:         JNB TF1,WAITHL
16C2 DED8            837                             DJNZ R6,AGAINL
16C4 802A            838                             SJMP EXITCL
16C6 7E0A            839     CLOPENL:        MOV R6,#0AH
16C8 C28E            840     AGAINLC:        CLR TR1
16CA 758DE2          841                             MOV TH1,#0E2H
16CD 758BD7          842                             MOV TL1,#0D7H
16D0 D295            843                             SETB P1.5
16D2 D28E            844                             SETB TR1
16D4 308FFD          845     WAITHLC:        JNB TF1,WAITHLC
16D7 7F02            846                             MOV R7,#02H
16D9 C295            847     N45MSLC:        CLR P1.5
16DB C28E            848                             CLR TR1
16DD C28F            849                             CLR TF1
16DF 758D5D          850                             MOV TH1,#5DH
16E2 758BFD          851                             MOV TL1,#0FDH
16E5 D28E            852                             SETB TR1
16E7 308FFD          853     WAITLLC:        JNB TF1,WAITLLC
16EA C28F            854                             CLR TF1
16EC DFEB            855                             DJNZ R7,N45MSLC
16EE DED8            856                             DJNZ R6,AGAINLC
16F0 C28E            857     EXITCL:         CLR TR1
16F2 22              858                             RET
                     859     
                     860     ;MOTOR 9: HEAD MOVEMENT MOTOR :: MOTOR CODE : 09H
16F3 00              861     HEADM:          NOP
16F4 BA0009          862                             CJNE R2,#00H,BACK9
16F7 D280            863                             SETB P0.0
16F9 C281            864                             CLR P0.1
16FB 753000          865                             MOV 30H,#00H
16FE 8044            866                             SJMP DONE9      
1700 BA0109          867     BACK9:          CJNE R2,#01H,RSTP9
1703 C280            868                             CLR P0.0
1705 D281            869                             SETB P0.1
1707 753001          870                             MOV 30H,#01H
170A 8038            871                             SJMP DONE9
170C BA0209          872     RSTP9:          CJNE R2,#02H,HSTP9
170F C280            873                             CLR P0.0
1711 C281            874                             CLR P0.1
1713 753004          875                             MOV 30H,#04H
1716 802C            876                             SJMP DONE9
1718 AB30            877     HSTP9:          MOV R3,30H
171A BB0013          878                             CJNE R3,#00H,RREV9
171D C280            879     RFOR9:          CLR P0.0
171F C281            880                             CLR P0.1
1721 121753          881                             LCALL DELAYHS
1724 D281            882                             SETB P0.1
1726 121753          883                             LCALL DELAYHS
1729 C281            884                             CLR P0.1
172B 753004          885                             MOV 30H,#04H
172E 8014            886                             SJMP DONE9
1730 BB0111          887     RREV9:          CJNE R3,#01H,DONE9
1733 C280            888                             CLR P0.0
1735 C281            889                             CLR P0.1
1737 121753          890                             LCALL DELAYHS
A51 MACRO ASSEMBLER  BCOMP                                                                06/21/2009 22:17:10 PAGE    15

173A D280            891                             SETB P0.0
173C 121753          892                             LCALL DELAYHS
173F C280            893                             CLR P0.0
1741 753004          894                             MOV 30H,#04H
1744 00              895     DONE9:          NOP
1745 22              896                             RET
                     897     
                     898     ;------------------------------------------------------------------------------------------
                             -------
                     899     ;DELAY ROUTINES
                     900     ;DELAY INIT
                     901     
1746 7F07            902     DELAYIN:        MOV R7,#07H
1748 7EFF            903                             MOV R6,#0FFH
174A 7DFF            904                             MOV R5,#0FFH
174C DDFE            905                             DJNZ R5,$
174E DEFC            906                             DJNZ R6,$-2
1750 DFFA            907                             DJNZ R7,$-4
1752 22              908                             RET
                     909     
1753 7FA0            910     DELAYHS:        MOV R7,#0A0H
1755 DFFE            911                             DJNZ R7,$
1757 22              912                             RET
                     913     
1758 7F0F            914     DELAYFOR:       MOV R7,#0FH
175A 7EFF            915                             MOV R6,#0FFH
175C 7DFF            916                             MOV R5,#0FFH
175E DDFE            917                             DJNZ R5,$
1760 DEFC            918                             DJNZ R6,$-2
1762 DFFA            919                             DJNZ R7,$-4
1764 22              920                             RET
                     921     
                     922     
                     923     ;------------------------------------------------------------------------------------------
                             --------
                     924     END
A51 MACRO ASSEMBLER  BCOMP                                                                06/21/2009 22:17:10 PAGE    16

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

AC . . . . . . . .  B ADDR   00D0H.6 A   
ACC. . . . . . . .  D ADDR   00E0H   A   
AGAINL . . . . . .  C ADDR   169CH   A   
AGAINLC. . . . . .  C ADDR   16C8H   A   
AGAINR . . . . . .  C ADDR   1640H   A   
AGAINRC. . . . . .  C ADDR   166CH   A   
B. . . . . . . . .  D ADDR   00F0H   A   
BACK1. . . . . . .  C ADDR   1456H   A   
BACK2. . . . . . .  C ADDR   14A9H   A   
BACK3. . . . . . .  C ADDR   14FCH   A   
BACK4. . . . . . .  C ADDR   154FH   A   
BACK5. . . . . . .  C ADDR   15A2H   A   
BACK6. . . . . . .  C ADDR   15F5H   A   
BACK9. . . . . . .  C ADDR   1700H   A   
BSELFT . . . . . .  C ADDR   149CH   A   
BSERGT . . . . . .  C ADDR   1449H   A   
CLCLOSEL . . . . .  C ADDR   169AH   A   
CLCLOSER . . . . .  C ADDR   163EH   A   
CLFT . . . . . . .  C ADDR   1697H   A   
CLOPENL. . . . . .  C ADDR   16C6H   A   
CLOPENR. . . . . .  C ADDR   166AH   A   
CLRALL . . . . . .  C ADDR   0046H   A   
CP_RL2 . . . . . .  B ADDR   00C8H.0 A   
CRGT . . . . . . .  C ADDR   163BH   A   
CY . . . . . . . .  B ADDR   00D0H.7 A   
C_T2 . . . . . . .  B ADDR   00C8H.1 A   
DELAYFOR . . . . .  C ADDR   1758H   A   
DELAYHS. . . . . .  C ADDR   1753H   A   
DELAYIN. . . . . .  C ADDR   1746H   A   
DONE1. . . . . . .  C ADDR   149AH   A   
DONE2. . . . . . .  C ADDR   14EDH   A   
DONE3. . . . . . .  C ADDR   1540H   A   
DONE4. . . . . . .  C ADDR   1593H   A   
DONE5. . . . . . .  C ADDR   15E6H   A   
DONE6. . . . . . .  C ADDR   1639H   A   
DONE9. . . . . . .  C ADDR   1744H   A   
DPH. . . . . . . .  D ADDR   0083H   A   
DPL. . . . . . . .  D ADDR   0082H   A   
EA . . . . . . . .  B ADDR   00A8H.7 A   
ELLFT. . . . . . .  C ADDR   15E8H   A   
ELRGT. . . . . . .  C ADDR   1595H   A   
ES . . . . . . . .  B ADDR   00A8H.4 A   
ET0. . . . . . . .  B ADDR   00A8H.1 A   
ET1. . . . . . . .  B ADDR   00A8H.3 A   
ET2. . . . . . . .  B ADDR   00A8H.5 A   
EX0. . . . . . . .  B ADDR   00A8H.0 A   
EX1. . . . . . . .  B ADDR   00A8H.2 A   
EXEN2. . . . . . .  B ADDR   00C8H.3 A   
EXF2 . . . . . . .  B ADDR   00C8H.6 A   
EXITC. . . . . . .  C ADDR   1443H   A   
EXITC0 . . . . . .  C ADDR   143CH   A   
EXITCL . . . . . .  C ADDR   16F0H   A   
EXITCR . . . . . .  C ADDR   1694H   A   
F0 . . . . . . . .  B ADDR   00D0H.5 A   
F1 . . . . . . . .  B ADDR   00D0H.1 A   
HALTDB . . . . . .  C ADDR   00ABH   A   
HEADM. . . . . . .  C ADDR   16F3H   A   
HSTP1. . . . . . .  C ADDR   146EH   A   
HSTP2. . . . . . .  C ADDR   14C1H   A   
HSTP3. . . . . . .  C ADDR   1514H   A   
A51 MACRO ASSEMBLER  BCOMP                                                                06/21/2009 22:17:10 PAGE    17

HSTP4. . . . . . .  C ADDR   1567H   A   
HSTP5. . . . . . .  C ADDR   15BAH   A   
HSTP6. . . . . . .  C ADDR   160DH   A   
HSTP9. . . . . . .  C ADDR   1718H   A   
IE . . . . . . . .  D ADDR   00A8H   A   
IE0. . . . . . . .  B ADDR   0088H.1 A   
IE1. . . . . . . .  B ADDR   0088H.3 A   
INRAN. . . . . . .  C ADDR   008EH   A   
INRANGE. . . . . .  C ADDR   1435H   A   
INT0 . . . . . . .  B ADDR   00B0H.2 A   
INT1 . . . . . . .  B ADDR   00B0H.3 A   
IP . . . . . . . .  D ADDR   00B8H   A   
IT0. . . . . . . .  B ADDR   0088H.0 A   
IT1. . . . . . . .  B ADDR   0088H.2 A   
MAIN . . . . . . .  C ADDR   006DH   A   
MAIN_END . . . . .  C ADDR   0092H   A   
N45MSL . . . . . .  C ADDR   169EH   A   
N45MSLC. . . . . .  C ADDR   16D9H   A   
N45MSR . . . . . .  C ADDR   1642H   A   
N45MSRC. . . . . .  C ADDR   167DH   A   
NOCOMM . . . . . .  C ADDR   0088H   A   
OV . . . . . . . .  B ADDR   00D0H.2 A   
P. . . . . . . . .  B ADDR   00D0H.0 A   
P0 . . . . . . . .  D ADDR   0080H   A   
P0_0 . . . . . . .  B ADDR   0080H.0 A   
P0_1 . . . . . . .  B ADDR   0080H.1 A   
P0_2 . . . . . . .  B ADDR   0080H.2 A   
P0_3 . . . . . . .  B ADDR   0080H.3 A   
P0_4 . . . . . . .  B ADDR   0080H.4 A   
P0_5 . . . . . . .  B ADDR   0080H.5 A   
P0_6 . . . . . . .  B ADDR   0080H.6 A   
P0_7 . . . . . . .  B ADDR   0080H.7 A   
P1 . . . . . . . .  D ADDR   0090H   A   
P1_0 . . . . . . .  B ADDR   0090H.0 A   
P1_1 . . . . . . .  B ADDR   0090H.1 A   
P1_2 . . . . . . .  B ADDR   0090H.2 A   
P1_3 . . . . . . .  B ADDR   0090H.3 A   
P1_4 . . . . . . .  B ADDR   0090H.4 A   
P1_5 . . . . . . .  B ADDR   0090H.5 A   
P1_6 . . . . . . .  B ADDR   0090H.6 A   
P1_7 . . . . . . .  B ADDR   0090H.7 A   
P2 . . . . . . . .  D ADDR   00A0H   A   
P2_0 . . . . . . .  B ADDR   00A0H.0 A   
P2_1 . . . . . . .  B ADDR   00A0H.1 A   
P2_2 . . . . . . .  B ADDR   00A0H.2 A   
P2_3 . . . . . . .  B ADDR   00A0H.3 A   
P2_4 . . . . . . .  B ADDR   00A0H.4 A   
P2_5 . . . . . . .  B ADDR   00A0H.5 A   
P2_6 . . . . . . .  B ADDR   00A0H.6 A   
P2_7 . . . . . . .  B ADDR   00A0H.7 A   
P3 . . . . . . . .  D ADDR   00B0H   A   
P3_0 . . . . . . .  B ADDR   00B0H.0 A   
P3_1 . . . . . . .  B ADDR   00B0H.1 A   
P3_2 . . . . . . .  B ADDR   00B0H.2 A   
P3_3 . . . . . . .  B ADDR   00B0H.3 A   
P3_4 . . . . . . .  B ADDR   00B0H.4 A   
P3_5 . . . . . . .  B ADDR   00B0H.5 A   
P3_6 . . . . . . .  B ADDR   00B0H.6 A   
P3_7 . . . . . . .  B ADDR   00B0H.7 A   
PCON . . . . . . .  D ADDR   0087H   A   
POWERDWN . . . . .  C ADDR   0095H   A   
PS . . . . . . . .  B ADDR   00B8H.4 A   
PSW. . . . . . . .  D ADDR   00D0H   A   
PT0. . . . . . . .  B ADDR   00B8H.1 A   
PT1. . . . . . . .  B ADDR   00B8H.3 A   
PT2. . . . . . . .  B ADDR   00B8H.5 A   
A51 MACRO ASSEMBLER  BCOMP                                                                06/21/2009 22:17:10 PAGE    18

PX0. . . . . . . .  B ADDR   00B8H.0 A   
PX1. . . . . . . .  B ADDR   00B8H.2 A   
RB8. . . . . . . .  B ADDR   0098H.2 A   
RCAP2H . . . . . .  D ADDR   00CBH   A   
RCAP2L . . . . . .  D ADDR   00CAH   A   
RCLK . . . . . . .  B ADDR   00C8H.5 A   
RD . . . . . . . .  B ADDR   00B0H.7 A   
REN. . . . . . . .  B ADDR   0098H.4 A   
RESET. . . . . . .  C ADDR   0000H   A   
RFOR1. . . . . . .  C ADDR   1473H   A   
RFOR2. . . . . . .  C ADDR   14C6H   A   
RFOR3. . . . . . .  C ADDR   1519H   A   
RFOR4. . . . . . .  C ADDR   156CH   A   
RFOR5. . . . . . .  C ADDR   15BFH   A   
RFOR6. . . . . . .  C ADDR   1612H   A   
RFOR9. . . . . . .  C ADDR   171DH   A   
RI . . . . . . . .  B ADDR   0098H.0 A   
RREV1. . . . . . .  C ADDR   1486H   A   
RREV2. . . . . . .  C ADDR   14D9H   A   
RREV3. . . . . . .  C ADDR   152CH   A   
RREV4. . . . . . .  C ADDR   157FH   A   
RREV5. . . . . . .  C ADDR   15D2H   A   
RREV6. . . . . . .  C ADDR   1625H   A   
RREV9. . . . . . .  C ADDR   1730H   A   
RS0. . . . . . . .  B ADDR   00D0H.3 A   
RS1. . . . . . . .  B ADDR   00D0H.4 A   
RSTP1. . . . . . .  C ADDR   1462H   A   
RSTP2. . . . . . .  C ADDR   14B5H   A   
RSTP3. . . . . . .  C ADDR   1508H   A   
RSTP4. . . . . . .  C ADDR   155BH   A   
RSTP5. . . . . . .  C ADDR   15AEH   A   
RSTP6. . . . . . .  C ADDR   1601H   A   
RSTP9. . . . . . .  C ADDR   170CH   A   
RXD. . . . . . . .  B ADDR   00B0H.0 A   
SBUF . . . . . . .  D ADDR   0099H   A   
SCON . . . . . . .  D ADDR   0098H   A   
SERCON . . . . . .  C ADDR   1400H   A   
SHLLFT . . . . . .  C ADDR   1542H   A   
SHLRGT . . . . . .  C ADDR   14EFH   A   
SKIPC. . . . . . .  C ADDR   1418H   A   
SKIPC2 . . . . . .  C ADDR   1422H   A   
SM0. . . . . . . .  B ADDR   0098H.7 A   
SM1. . . . . . . .  B ADDR   0098H.6 A   
SM2. . . . . . . .  B ADDR   0098H.5 A   
SP . . . . . . . .  D ADDR   0081H   A   
START. . . . . . .  C ADDR   0030H   A   
SYSBUSY. . . . . .  B ADDR   0090H.7 A   
T0 . . . . . . . .  B ADDR   00B0H.4 A   
T1 . . . . . . . .  B ADDR   00B0H.5 A   
T2 . . . . . . . .  B ADDR   0090H.0 A   
T2CON. . . . . . .  D ADDR   00C8H   A   
T2EX . . . . . . .  B ADDR   0090H.1 A   
T2MOD. . . . . . .  D ADDR   00C9H   A   
TB8. . . . . . . .  B ADDR   0098H.3 A   
TCLK . . . . . . .  B ADDR   00C8H.4 A   
TCON . . . . . . .  D ADDR   0088H   A   
TF0. . . . . . . .  B ADDR   0088H.5 A   
TF1. . . . . . . .  B ADDR   0088H.7 A   
TF2. . . . . . . .  B ADDR   00C8H.7 A   
TH0. . . . . . . .  D ADDR   008CH   A   
TH1. . . . . . . .  D ADDR   008DH   A   
TH2. . . . . . . .  D ADDR   00CDH   A   
TI . . . . . . . .  B ADDR   0098H.1 A   
TL0. . . . . . . .  D ADDR   008AH   A   
TL1. . . . . . . .  D ADDR   008BH   A   
TL2. . . . . . . .  D ADDR   00CCH   A   
A51 MACRO ASSEMBLER  BCOMP                                                                06/21/2009 22:17:10 PAGE    19

TMOD . . . . . . .  D ADDR   0089H   A   
TR0. . . . . . . .  B ADDR   0088H.4 A   
TR1. . . . . . . .  B ADDR   0088H.6 A   
TR2. . . . . . . .  B ADDR   00C8H.2 A   
TXD. . . . . . . .  B ADDR   00B0H.1 A   
TXI. . . . . . . .  C ADDR   1441H   A   
VERFLL . . . . . .  C ADDR   1427H   A   
VERFLU . . . . . .  C ADDR   142CH   A   
WAITHL . . . . . .  C ADDR   16BFH   A   
WAITHLC. . . . . .  C ADDR   16D4H   A   
WAITHR . . . . . .  C ADDR   1663H   A   
WAITHRC. . . . . .  C ADDR   1678H   A   
WAITLL . . . . . .  C ADDR   16ACH   A   
WAITLLC. . . . . .  C ADDR   16E7H   A   
WAITLR . . . . . .  C ADDR   1650H   A   
WAITLRC. . . . . .  C ADDR   168BH   A   
WR . . . . . . . .  B ADDR   00B0H.6 A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
